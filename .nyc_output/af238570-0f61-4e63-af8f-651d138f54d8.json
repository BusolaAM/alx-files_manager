{"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\server.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\server.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":57}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":58}},"4":{"start":{"line":9,"column":14},"end":{"line":9,"column":57}},"5":{"start":{"line":10,"column":19},"end":{"line":10,"column":72}},"6":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"7":{"start":{"line":12,"column":15},"end":{"line":12,"column":38}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":29}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}},"11":{"start":{"line":16,"column":15},"end":{"line":16,"column":21}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":4},"b":{"0":[3,1],"1":[4,4]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_boot","_routes","_middlewares","obj","__esModule","default","server","express","injectMiddlewares","injectRoutes","startServer","_default","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport startServer from './libs/boot';\nimport injectRoutes from './routes';\nimport injectMiddlewares from './libs/middlewares';\n\nconst server = express();\n\ninjectMiddlewares(server);\ninjectRoutes(server);\nstartServer(server);\n\nexport default server;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,YAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAmD,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnD,MAAMG,MAAM,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAExB,IAAAC,oBAAiB,EAACF,MAAM,CAAC;AACzB,IAAAG,eAAY,EAACH,MAAM,CAAC;AACpB,IAAAI,aAAW,EAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAELL,MAAM;AAAAM,OAAA,CAAAP,OAAA,GAAAM,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"60e0cabf2d75b1247a2d1bfec70a5eb049081216","contentHash":"3fd74dcb57d7a909fd62d02cac388b6d668c31b30a978f475a57ce2cc6e67952"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\libs\\boot.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\libs\\boot.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":18},"end":{"line":7,"column":72}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":20},"end":{"line":16,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":29}},"6":{"start":{"line":11,"column":15},"end":{"line":11,"column":39}},"7":{"start":{"line":12,"column":14},"end":{"line":12,"column":54}},"8":{"start":{"line":13,"column":2},"end":{"line":15,"column":5}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":64}},"10":{"start":{"line":17,"column":15},"end":{"line":17,"column":26}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":20},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":27},"end":{"line":16,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":19},"end":{"line":13,"column":20}},"loc":{"start":{"line":13,"column":25},"end":{"line":15,"column":3}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8},"2":{"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":39}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":31}},{"start":{"line":11,"column":35},"end":{"line":11,"column":39}}],"line":11},"3":{"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":54}},"type":"binary-expr","locations":[{"start":{"line":12,"column":14},"end":{"line":12,"column":45}},{"start":{"line":12,"column":49},"end":{"line":12,"column":54}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1},"f":{"0":1,"1":1,"2":0},"b":{"0":[1,0],"1":[1,1],"2":[1,1],"3":[1,0]},"inputSourceMap":{"version":3,"names":["_env_loader","_interopRequireDefault","require","obj","__esModule","default","startServer","api","envLoader","port","process","env","PORT","npm_lifecycle_event","listen","console","log","_default","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\libs\\","sources":["boot.js"],"sourcesContent":["import envLoader from '../utils/env_loader';\n\nconst startServer = (api) => {\n  envLoader();\n  const port = process.env.PORT || 5000;\n  const env = process.env.npm_lifecycle_event || 'dev';\n  api.listen(port, () => {\n    console.log(`[${env}] Server is listening at port:${port}`);\n  });\n};\n\nexport default startServer;\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,MAAMG,WAAW,GAAIC,GAAG,IAAK;EAC3B,IAAAC,mBAAS,EAAC,CAAC;EACX,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI;EACrC,MAAMD,GAAG,GAAGD,OAAO,CAACC,GAAG,CAACE,mBAAmB,IAAI,KAAK;EACpDN,GAAG,CAACO,MAAM,CAACL,IAAI,EAAE,MAAM;IACrBM,OAAO,CAACC,GAAG,CAAE,IAAGL,GAAI,iCAAgCF,IAAK,EAAC,CAAC;EAC7D,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAQ,QAAA,GAEaX,WAAW;AAAAY,OAAA,CAAAb,OAAA,GAAAY,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8cc137248bd6bddbf77de89f526ce151d5106faa","contentHash":"d90833bd382c8338afaeff832c8e0e13779adbf1bde2cdb0b59707a09745c5a5"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\env_loader.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\env_loader.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":10},"end":{"line":7,"column":23}},"3":{"start":{"line":11,"column":18},"end":{"line":23,"column":1}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":54}},"5":{"start":{"line":13,"column":15},"end":{"line":13,"column":83}},"6":{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},"7":{"start":{"line":15,"column":17},"end":{"line":15,"column":72}},"8":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"9":{"start":{"line":17,"column":28},"end":{"line":17,"column":45}},"10":{"start":{"line":18,"column":23},"end":{"line":18,"column":55}},"11":{"start":{"line":19,"column":20},"end":{"line":19,"column":53}},"12":{"start":{"line":20,"column":6},"end":{"line":20,"column":36}},"13":{"start":{"line":24,"column":15},"end":{"line":24,"column":24}},"14":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":18},"end":{"line":11,"column":19}},"loc":{"start":{"line":11,"column":24},"end":{"line":23,"column":1}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":54}},"type":"binary-expr","locations":[{"start":{"line":12,"column":14},"end":{"line":12,"column":45}},{"start":{"line":12,"column":49},"end":{"line":12,"column":54}}],"line":12},"1":{"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":83}},"type":"cond-expr","locations":[{"start":{"line":13,"column":63},"end":{"line":13,"column":74}},{"start":{"line":13,"column":77},"end":{"line":13,"column":83}}],"line":13},"2":{"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":60}},"type":"binary-expr","locations":[{"start":{"line":13,"column":15},"end":{"line":13,"column":35}},{"start":{"line":13,"column":39},"end":{"line":13,"column":60}}],"line":13},"3":{"loc":{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},{"start":{"line":14,"column":2},"end":{"line":22,"column":3}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":2,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1},"f":{"0":2},"b":{"0":[2,0],"1":[2,0],"2":[2,0],"3":[0,2]},"inputSourceMap":{"version":3,"names":["_fs","require","envLoader","env","process","npm_lifecycle_event","path","includes","existsSync","data","readFileSync","trim","split","line","delimPosition","indexOf","variable","substring","value","_default","exports","default"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\","sources":["env_loader.js"],"sourcesContent":["import { existsSync, readFileSync } from 'fs';\n\n/**\n * Loads the appropriate environment variables for an event.\n */\nconst envLoader = () => {\n  const env = process.env.npm_lifecycle_event || 'dev';\n  const path = env.includes('test') || env.includes('cover') ? '.env.test' : '.env';\n\n  if (existsSync(path)) {\n    const data = readFileSync(path, 'utf-8').trim().split('\\n');\n\n    for (const line of data) {\n      const delimPosition = line.indexOf('=');\n      const variable = line.substring(0, delimPosition);\n      const value = line.substring(delimPosition + 1);\n      process.env[variable] = value;\n    }\n  }\n};\n\nexport default envLoader;\n"],"mappings":";;;;;;AAAA,IAAAA,GAAA,GAAAC,OAAA;AAEA;AACA;AACA;AACA,MAAMC,SAAS,GAAGA,CAAA,KAAM;EACtB,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAG,CAACE,mBAAmB,IAAI,KAAK;EACpD,MAAMC,IAAI,GAAGH,GAAG,CAACI,QAAQ,CAAC,MAAM,CAAC,IAAIJ,GAAG,CAACI,QAAQ,CAAC,OAAO,CAAC,GAAG,WAAW,GAAG,MAAM;EAEjF,IAAI,IAAAC,cAAU,EAACF,IAAI,CAAC,EAAE;IACpB,MAAMG,IAAI,GAAG,IAAAC,gBAAY,EAACJ,IAAI,EAAE,OAAO,CAAC,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC;IAE3D,KAAK,MAAMC,IAAI,IAAIJ,IAAI,EAAE;MACvB,MAAMK,aAAa,GAAGD,IAAI,CAACE,OAAO,CAAC,GAAG,CAAC;MACvC,MAAMC,QAAQ,GAAGH,IAAI,CAACI,SAAS,CAAC,CAAC,EAAEH,aAAa,CAAC;MACjD,MAAMI,KAAK,GAAGL,IAAI,CAACI,SAAS,CAACH,aAAa,GAAG,CAAC,CAAC;MAC/CV,OAAO,CAACD,GAAG,CAACa,QAAQ,CAAC,GAAGE,KAAK;IAC/B;EACF;AACF,CAAC;AAAC,IAAAC,QAAA,GAEajB,SAAS;AAAAkB,OAAA,CAAAC,OAAA,GAAAF,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ff208f8991587ae91e11820a572930825127f54a","contentHash":"2fb5cecca4f5af76999d26cfde5a4032db1fb16531f8a492d0e3be0eb399d516"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\routes\\index.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\routes\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"3":{"start":{"line":8,"column":21},"end":{"line":8,"column":84}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":86}},"5":{"start":{"line":10,"column":23},"end":{"line":10,"column":88}},"6":{"start":{"line":11,"column":23},"end":{"line":11,"column":88}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":42}},"8":{"start":{"line":13,"column":13},"end":{"line":13,"column":44}},"9":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"10":{"start":{"line":21,"column":21},"end":{"line":38,"column":1}},"11":{"start":{"line":22,"column":2},"end":{"line":22,"column":55}},"12":{"start":{"line":23,"column":2},"end":{"line":23,"column":53}},"13":{"start":{"line":24,"column":2},"end":{"line":24,"column":83}},"14":{"start":{"line":25,"column":2},"end":{"line":25,"column":90}},"15":{"start":{"line":26,"column":2},"end":{"line":26,"column":55}},"16":{"start":{"line":27,"column":2},"end":{"line":27,"column":81}},"17":{"start":{"line":28,"column":2},"end":{"line":28,"column":84}},"18":{"start":{"line":29,"column":2},"end":{"line":29,"column":84}},"19":{"start":{"line":30,"column":2},"end":{"line":30,"column":81}},"20":{"start":{"line":31,"column":2},"end":{"line":31,"column":95}},"21":{"start":{"line":32,"column":2},"end":{"line":32,"column":99}},"22":{"start":{"line":33,"column":2},"end":{"line":33,"column":63}},"23":{"start":{"line":34,"column":2},"end":{"line":36,"column":5}},"24":{"start":{"line":35,"column":4},"end":{"line":35,"column":107}},"25":{"start":{"line":37,"column":2},"end":{"line":37,"column":32}},"26":{"start":{"line":39,"column":15},"end":{"line":39,"column":27}},"27":{"start":{"line":40,"column":0},"end":{"line":40,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":21},"end":{"line":21,"column":22}},"loc":{"start":{"line":21,"column":28},"end":{"line":38,"column":1}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":34,"column":15},"end":{"line":34,"column":16}},"loc":{"start":{"line":34,"column":35},"end":{"line":36,"column":3}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":1,"26":1,"27":1},"f":{"0":4,"1":1,"2":0},"b":{"0":[4,0],"1":[4,4]},"inputSourceMap":{"version":3,"names":["_express","require","_AppController","_interopRequireDefault","_AuthController","_UsersController","_FilesController","_auth","_error","obj","__esModule","default","injectRoutes","api","get","AppController","getStatus","getStats","basicAuthenticate","AuthController","getConnect","xTokenAuthenticate","getDisconnect","post","UsersController","postNew","getMe","FilesController","postUpload","getShow","getIndex","put","putPublish","putUnpublish","getFile","all","req","res","next","errorResponse","APIError","method","url","use","_default","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\routes\\","sources":["index.js"],"sourcesContent":["// eslint-disable-next-line no-unused-vars\nimport { Express } from 'express';\nimport AppController from '../controllers/AppController';\nimport AuthController from '../controllers/AuthController';\nimport UsersController from '../controllers/UsersController';\nimport FilesController from '../controllers/FilesController';\nimport { basicAuthenticate, xTokenAuthenticate } from '../middlewares/auth';\nimport { APIError, errorResponse } from '../middlewares/error';\n\n/**\n * Injects routes with their handlers to the given Express application.\n * @param {Express} api\n */\nconst injectRoutes = (api) => {\n  api.get('/status', AppController.getStatus);\n  api.get('/stats', AppController.getStats);\n\n  api.get('/connect', basicAuthenticate, AuthController.getConnect);\n  api.get('/disconnect', xTokenAuthenticate, AuthController.getDisconnect);\n\n  api.post('/users', UsersController.postNew);\n  api.get('/users/me', xTokenAuthenticate, UsersController.getMe);\n\n  api.post('/files', xTokenAuthenticate, FilesController.postUpload);\n  api.get('/files/:id', xTokenAuthenticate, FilesController.getShow);\n  api.get('/files', xTokenAuthenticate, FilesController.getIndex);\n  api.put('/files/:id/publish', xTokenAuthenticate, FilesController.putPublish);\n  api.put('/files/:id/unpublish', xTokenAuthenticate, FilesController.putUnpublish);\n  api.get('/files/:id/data', FilesController.getFile);\n\n  api.all('*', (req, res, next) => {\n    errorResponse(new APIError(404, `Cannot ${req.method} ${req.url}`), req, res, next);\n  });\n  api.use(errorResponse);\n};\n\nexport default injectRoutes;\n"],"mappings":";;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,cAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,eAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,gBAAA,GAAAF,sBAAA,CAAAF,OAAA;AACA,IAAAK,gBAAA,GAAAH,sBAAA,CAAAF,OAAA;AACA,IAAAM,KAAA,GAAAN,OAAA;AACA,IAAAO,MAAA,GAAAP,OAAA;AAA+D,SAAAE,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAP/D;;AASA;AACA;AACA;AACA;AACA,MAAMG,YAAY,GAAIC,GAAG,IAAK;EAC5BA,GAAG,CAACC,GAAG,CAAC,SAAS,EAAEC,sBAAa,CAACC,SAAS,CAAC;EAC3CH,GAAG,CAACC,GAAG,CAAC,QAAQ,EAAEC,sBAAa,CAACE,QAAQ,CAAC;EAEzCJ,GAAG,CAACC,GAAG,CAAC,UAAU,EAAEI,uBAAiB,EAAEC,uBAAc,CAACC,UAAU,CAAC;EACjEP,GAAG,CAACC,GAAG,CAAC,aAAa,EAAEO,wBAAkB,EAAEF,uBAAc,CAACG,aAAa,CAAC;EAExET,GAAG,CAACU,IAAI,CAAC,QAAQ,EAAEC,wBAAe,CAACC,OAAO,CAAC;EAC3CZ,GAAG,CAACC,GAAG,CAAC,WAAW,EAAEO,wBAAkB,EAAEG,wBAAe,CAACE,KAAK,CAAC;EAE/Db,GAAG,CAACU,IAAI,CAAC,QAAQ,EAAEF,wBAAkB,EAAEM,wBAAe,CAACC,UAAU,CAAC;EAClEf,GAAG,CAACC,GAAG,CAAC,YAAY,EAAEO,wBAAkB,EAAEM,wBAAe,CAACE,OAAO,CAAC;EAClEhB,GAAG,CAACC,GAAG,CAAC,QAAQ,EAAEO,wBAAkB,EAAEM,wBAAe,CAACG,QAAQ,CAAC;EAC/DjB,GAAG,CAACkB,GAAG,CAAC,oBAAoB,EAAEV,wBAAkB,EAAEM,wBAAe,CAACK,UAAU,CAAC;EAC7EnB,GAAG,CAACkB,GAAG,CAAC,sBAAsB,EAAEV,wBAAkB,EAAEM,wBAAe,CAACM,YAAY,CAAC;EACjFpB,GAAG,CAACC,GAAG,CAAC,iBAAiB,EAAEa,wBAAe,CAACO,OAAO,CAAC;EAEnDrB,GAAG,CAACsB,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAC/B,IAAAC,oBAAa,EAAC,IAAIC,eAAQ,CAAC,GAAG,EAAG,UAASJ,GAAG,CAACK,MAAO,IAAGL,GAAG,CAACM,GAAI,EAAC,CAAC,EAAEN,GAAG,EAAEC,GAAG,EAAEC,IAAI,CAAC;EACrF,CAAC,CAAC;EACFzB,GAAG,CAAC8B,GAAG,CAACJ,oBAAa,CAAC;AACxB,CAAC;AAAC,IAAAK,QAAA,GAEahC,YAAY;AAAAiC,OAAA,CAAAlC,OAAA,GAAAiC,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6039a1d0f49406f86993243f6f434e3625a7724a","contentHash":"9500047df8074d266e4e5ea98db797795810870ac1c1ff2917aaf860aafa1964"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\AppController.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\AppController.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":62}},"3":{"start":{"line":8,"column":10},"end":{"line":8,"column":56}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":14,"column":4},"end":{"line":17,"column":7}},"6":{"start":{"line":20,"column":4},"end":{"line":25,"column":7}},"7":{"start":{"line":21,"column":6},"end":{"line":24,"column":9}},"8":{"start":{"line":28,"column":0},"end":{"line":28,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":2},"end":{"line":13,"column":3}},"loc":{"start":{"line":13,"column":29},"end":{"line":18,"column":3}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":2},"end":{"line":19,"column":3}},"loc":{"start":{"line":19,"column":28},"end":{"line":26,"column":3}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":69},"end":{"line":20,"column":70}},"loc":{"start":{"line":20,"column":99},"end":{"line":25,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":0,"6":0,"7":0,"8":1},"f":{"0":2,"1":0,"2":0,"3":0},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"names":["_redis","_interopRequireDefault","require","_db","obj","__esModule","default","AppController","getStatus","req","res","status","json","redis","redisClient","isAlive","db","dbClient","getStats","Promise","all","nbUsers","nbFiles","then","usersCount","filesCount","users","files","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\","sources":["AppController.js"],"sourcesContent":["/* eslint-disable import/no-named-as-default */\nimport redisClient from '../utils/redis';\nimport dbClient from '../utils/db';\n\nexport default class AppController {\n  static getStatus(req, res) {\n    res.status(200).json({\n      redis: redisClient.isAlive(),\n      db: dbClient.isAlive(),\n    });\n  }\n\n  static getStats(req, res) {\n    Promise.all([dbClient.nbUsers(), dbClient.nbFiles()])\n      .then(([usersCount, filesCount]) => {\n        res.status(200).json({ users: usersCount, files: filesCount });\n      });\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFnC;;AAIe,MAAMG,aAAa,CAAC;EACjC,OAAOC,SAASA,CAACC,GAAG,EAAEC,GAAG,EAAE;IACzBA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACnBC,KAAK,EAAEC,cAAW,CAACC,OAAO,CAAC,CAAC;MAC5BC,EAAE,EAAEC,WAAQ,CAACF,OAAO,CAAC;IACvB,CAAC,CAAC;EACJ;EAEA,OAAOG,QAAQA,CAACT,GAAG,EAAEC,GAAG,EAAE;IACxBS,OAAO,CAACC,GAAG,CAAC,CAACH,WAAQ,CAACI,OAAO,CAAC,CAAC,EAAEJ,WAAQ,CAACK,OAAO,CAAC,CAAC,CAAC,CAAC,CAClDC,IAAI,CAAC,CAAC,CAACC,UAAU,EAAEC,UAAU,CAAC,KAAK;MAClCf,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEc,KAAK,EAAEF,UAAU;QAAEG,KAAK,EAAEF;MAAW,CAAC,CAAC;IAChE,CAAC,CAAC;EACN;AACF;AAACG,OAAA,CAAAtB,OAAA,GAAAC,aAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a9a15a610dfe48c2794427496d176fdbfd8efc91","contentHash":"6b53482b06e7f6dfefb7899db8b1c001524829ff32c77b9fdc0ca4754a9c40ef"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\redis.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\redis.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":27}},"3":{"start":{"line":8,"column":13},"end":{"line":8,"column":29}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":45}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":34}},"6":{"start":{"line":19,"column":4},"end":{"line":22,"column":7}},"7":{"start":{"line":20,"column":6},"end":{"line":20,"column":86}},"8":{"start":{"line":21,"column":6},"end":{"line":21,"column":37}},"9":{"start":{"line":23,"column":4},"end":{"line":25,"column":7}},"10":{"start":{"line":24,"column":6},"end":{"line":24,"column":36}},"11":{"start":{"line":33,"column":4},"end":{"line":33,"column":34}},"12":{"start":{"line":42,"column":4},"end":{"line":42,"column":72}},"13":{"start":{"line":53,"column":4},"end":{"line":53,"column":90}},"14":{"start":{"line":62,"column":4},"end":{"line":62,"column":71}},"15":{"start":{"line":65,"column":20},"end":{"line":65,"column":37}},"16":{"start":{"line":66,"column":0},"end":{"line":66,"column":34}},"17":{"start":{"line":67,"column":15},"end":{"line":67,"column":26}},"18":{"start":{"line":68,"column":0},"end":{"line":68,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":16,"column":2},"end":{"line":16,"column":3}},"loc":{"start":{"line":16,"column":16},"end":{"line":26,"column":3}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":28},"end":{"line":19,"column":29}},"loc":{"start":{"line":19,"column":35},"end":{"line":22,"column":5}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":30},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":36},"end":{"line":25,"column":5}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":2},"end":{"line":32,"column":3}},"loc":{"start":{"line":32,"column":12},"end":{"line":34,"column":3}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":41,"column":2},"end":{"line":41,"column":3}},"loc":{"start":{"line":41,"column":17},"end":{"line":43,"column":3}},"line":41},"5":{"name":"(anonymous_5)","decl":{"start":{"line":52,"column":2},"end":{"line":52,"column":3}},"loc":{"start":{"line":52,"column":34},"end":{"line":54,"column":3}},"line":52},"6":{"name":"(anonymous_6)","decl":{"start":{"line":61,"column":2},"end":{"line":61,"column":3}},"loc":{"start":{"line":61,"column":17},"end":{"line":63,"column":3}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":55},"end":{"line":20,"column":84}},"type":"binary-expr","locations":[{"start":{"line":20,"column":55},"end":{"line":20,"column":66}},{"start":{"line":20,"column":70},"end":{"line":20,"column":84}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":1,"18":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"names":["_util","require","_redis","RedisClient","constructor","client","createClient","isClientConnected","on","err","console","error","message","toString","isAlive","get","key","promisify","GET","bind","set","value","duration","SETEX","del","DEL","redisClient","exports","_default","default"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\","sources":["redis.js"],"sourcesContent":["import { promisify } from 'util';\nimport { createClient } from 'redis';\n\n/**\n * Represents a Redis client.\n */\nclass RedisClient {\n  /**\n   * Creates a new RedisClient instance.\n   */\n  constructor() {\n    this.client = createClient();\n    this.isClientConnected = true;\n    this.client.on('error', (err) => {\n      console.error('Redis client failed to connect:', err.message || err.toString());\n      this.isClientConnected = false;\n    });\n    this.client.on('connect', () => {\n      this.isClientConnected = true;\n    });\n  }\n\n  /**\n   * Checks if this client's connection to the Redis server is active.\n   * @returns {boolean}\n   */\n  isAlive() {\n    return this.isClientConnected;\n  }\n\n  /**\n   * Retrieves the value of a given key.\n   * @param {String} key The key of the item to retrieve.\n   * @returns {String | Object}\n   */\n  async get(key) {\n    return promisify(this.client.GET).bind(this.client)(key);\n  }\n\n  /**\n   * Stores a key and its value along with an expiration time.\n   * @param {String} key The key of the item to store.\n   * @param {String | Number | Boolean} value The item to store.\n   * @param {Number} duration The expiration time of the item in seconds.\n   * @returns {Promise<void>}\n   */\n  async set(key, value, duration) {\n    await promisify(this.client.SETEX)\n      .bind(this.client)(key, duration, value);\n  }\n\n  /**\n   * Removes the value of a given key.\n   * @param {String} key The key of the item to remove.\n   * @returns {Promise<void>}\n   */\n  async del(key) {\n    await promisify(this.client.DEL).bind(this.client)(key);\n  }\n}\n\nexport const redisClient = new RedisClient();\nexport default redisClient;\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAEA;AACA;AACA;AACA,MAAME,WAAW,CAAC;EAChB;AACF;AACA;EACEC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,MAAM,GAAG,IAAAC,mBAAY,EAAC,CAAC;IAC5B,IAAI,CAACC,iBAAiB,GAAG,IAAI;IAC7B,IAAI,CAACF,MAAM,CAACG,EAAE,CAAC,OAAO,EAAGC,GAAG,IAAK;MAC/BC,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAEF,GAAG,CAACG,OAAO,IAAIH,GAAG,CAACI,QAAQ,CAAC,CAAC,CAAC;MAC/E,IAAI,CAACN,iBAAiB,GAAG,KAAK;IAChC,CAAC,CAAC;IACF,IAAI,CAACF,MAAM,CAACG,EAAE,CAAC,SAAS,EAAE,MAAM;MAC9B,IAAI,CAACD,iBAAiB,GAAG,IAAI;IAC/B,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;AACA;EACEO,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAACP,iBAAiB;EAC/B;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMQ,GAAGA,CAACC,GAAG,EAAE;IACb,OAAO,IAAAC,eAAS,EAAC,IAAI,CAACZ,MAAM,CAACa,GAAG,CAAC,CAACC,IAAI,CAAC,IAAI,CAACd,MAAM,CAAC,CAACW,GAAG,CAAC;EAC1D;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACE,MAAMI,GAAGA,CAACJ,GAAG,EAAEK,KAAK,EAAEC,QAAQ,EAAE;IAC9B,MAAM,IAAAL,eAAS,EAAC,IAAI,CAACZ,MAAM,CAACkB,KAAK,CAAC,CAC/BJ,IAAI,CAAC,IAAI,CAACd,MAAM,CAAC,CAACW,GAAG,EAAEM,QAAQ,EAAED,KAAK,CAAC;EAC5C;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMG,GAAGA,CAACR,GAAG,EAAE;IACb,MAAM,IAAAC,eAAS,EAAC,IAAI,CAACZ,MAAM,CAACoB,GAAG,CAAC,CAACN,IAAI,CAAC,IAAI,CAACd,MAAM,CAAC,CAACW,GAAG,CAAC;EACzD;AACF;AAEO,MAAMU,WAAW,GAAG,IAAIvB,WAAW,CAAC,CAAC;AAACwB,OAAA,CAAAD,WAAA,GAAAA,WAAA;AAAA,IAAAE,QAAA,GAC9BF,WAAW;AAAAC,OAAA,CAAAE,OAAA,GAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ecda8f04e3b212d0f26bdbb38a7575f1ed236f1a","contentHash":"ed71368990554e5256a556f21995b44516d78208a8eba46ce541be8857cfb6e4"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\db.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\db.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":57}},"3":{"start":{"line":8,"column":18},"end":{"line":8,"column":75}},"4":{"start":{"line":9,"column":18},"end":{"line":9,"column":65}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"6":{"start":{"line":21,"column":4},"end":{"line":21,"column":31}},"7":{"start":{"line":22,"column":17},"end":{"line":22,"column":51}},"8":{"start":{"line":23,"column":17},"end":{"line":23,"column":45}},"9":{"start":{"line":24,"column":21},"end":{"line":24,"column":63}},"10":{"start":{"line":25,"column":18},"end":{"line":25,"column":57}},"11":{"start":{"line":26,"column":4},"end":{"line":28,"column":7}},"12":{"start":{"line":29,"column":4},"end":{"line":29,"column":26}},"13":{"start":{"line":37,"column":4},"end":{"line":37,"column":37}},"14":{"start":{"line":45,"column":4},"end":{"line":45,"column":65}},"15":{"start":{"line":53,"column":4},"end":{"line":53,"column":65}},"16":{"start":{"line":61,"column":4},"end":{"line":61,"column":48}},"17":{"start":{"line":69,"column":4},"end":{"line":69,"column":48}},"18":{"start":{"line":72,"column":17},"end":{"line":72,"column":31}},"19":{"start":{"line":73,"column":0},"end":{"line":73,"column":28}},"20":{"start":{"line":74,"column":15},"end":{"line":74,"column":23}},"21":{"start":{"line":75,"column":0},"end":{"line":75,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":2},"end":{"line":20,"column":3}},"loc":{"start":{"line":20,"column":16},"end":{"line":30,"column":3}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":2},"end":{"line":36,"column":3}},"loc":{"start":{"line":36,"column":12},"end":{"line":38,"column":3}},"line":36},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":2},"end":{"line":44,"column":3}},"loc":{"start":{"line":44,"column":18},"end":{"line":46,"column":3}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":52,"column":2},"end":{"line":52,"column":3}},"loc":{"start":{"line":52,"column":18},"end":{"line":54,"column":3}},"line":52},"5":{"name":"(anonymous_5)","decl":{"start":{"line":60,"column":2},"end":{"line":60,"column":3}},"loc":{"start":{"line":60,"column":26},"end":{"line":62,"column":3}},"line":60},"6":{"name":"(anonymous_6)","decl":{"start":{"line":68,"column":2},"end":{"line":68,"column":3}},"loc":{"start":{"line":68,"column":26},"end":{"line":70,"column":3}},"line":68}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":22,"column":17},"end":{"line":22,"column":51}},"type":"binary-expr","locations":[{"start":{"line":22,"column":17},"end":{"line":22,"column":36}},{"start":{"line":22,"column":40},"end":{"line":22,"column":51}}],"line":22},"3":{"loc":{"start":{"line":23,"column":17},"end":{"line":23,"column":45}},"type":"binary-expr","locations":[{"start":{"line":23,"column":17},"end":{"line":23,"column":36}},{"start":{"line":23,"column":40},"end":{"line":23,"column":45}}],"line":23},"4":{"loc":{"start":{"line":24,"column":21},"end":{"line":24,"column":63}},"type":"binary-expr","locations":[{"start":{"line":24,"column":21},"end":{"line":24,"column":44}},{"start":{"line":24,"column":48},"end":{"line":24,"column":63}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":1,"20":1,"21":1},"f":{"0":3,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[1,2],"1":[3,3],"2":[1,1],"3":[1,1],"4":[1,1]},"inputSourceMap":{"version":3,"names":["_mongodb","_interopRequireDefault","require","_collection","_env_loader","obj","__esModule","default","DBClient","constructor","envLoader","host","process","env","DB_HOST","port","DB_PORT","database","DB_DATABASE","dbURL","client","mongodb","MongoClient","useUnifiedTopology","connect","isAlive","isConnected","nbUsers","db","collection","countDocuments","nbFiles","usersCollection","filesCollection","dbClient","exports","_default"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\","sources":["db.js"],"sourcesContent":["import mongodb from 'mongodb';\n// eslint-disable-next-line no-unused-vars\nimport Collection from 'mongodb/lib/collection';\nimport envLoader from './env_loader';\n\n/**\n * Represents a MongoDB client.\n */\nclass DBClient {\n  /**\n   * Creates a new DBClient instance.\n   */\n  constructor() {\n    envLoader();\n    const host = process.env.DB_HOST || 'localhost';\n    const port = process.env.DB_PORT || 27017;\n    const database = process.env.DB_DATABASE || 'files_manager';\n    const dbURL = `mongodb://${host}:${port}/${database}`;\n\n    this.client = new mongodb.MongoClient(dbURL, { useUnifiedTopology: true });\n    this.client.connect();\n  }\n\n  /**\n   * Checks if this client's connection to the MongoDB server is active.\n   * @returns {boolean}\n   */\n  isAlive() {\n    return this.client.isConnected();\n  }\n\n  /**\n   * Retrieves the number of users in the database.\n   * @returns {Promise<Number>}\n   */\n  async nbUsers() {\n    return this.client.db().collection('users').countDocuments();\n  }\n\n  /**\n   * Retrieves the number of files in the database.\n   * @returns {Promise<Number>}\n   */\n  async nbFiles() {\n    return this.client.db().collection('files').countDocuments();\n  }\n\n  /**\n   * Retrieves a reference to the `users` collection.\n   * @returns {Promise<Collection>}\n   */\n  async usersCollection() {\n    return this.client.db().collection('users');\n  }\n\n  /**\n   * Retrieves a reference to the `files` collection.\n   * @returns {Promise<Collection>}\n   */\n  async filesCollection() {\n    return this.client.db().collection('files');\n  }\n}\n\nexport const dbClient = new DBClient();\nexport default dbClient;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFrC;;AAIA;AACA;AACA;AACA,MAAMG,QAAQ,CAAC;EACb;AACF;AACA;EACEC,WAAWA,CAAA,EAAG;IACZ,IAAAC,mBAAS,EAAC,CAAC;IACX,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,OAAO,IAAI,WAAW;IAC/C,MAAMC,IAAI,GAAGH,OAAO,CAACC,GAAG,CAACG,OAAO,IAAI,KAAK;IACzC,MAAMC,QAAQ,GAAGL,OAAO,CAACC,GAAG,CAACK,WAAW,IAAI,eAAe;IAC3D,MAAMC,KAAK,GAAI,aAAYR,IAAK,IAAGI,IAAK,IAAGE,QAAS,EAAC;IAErD,IAAI,CAACG,MAAM,GAAG,IAAIC,gBAAO,CAACC,WAAW,CAACH,KAAK,EAAE;MAAEI,kBAAkB,EAAE;IAAK,CAAC,CAAC;IAC1E,IAAI,CAACH,MAAM,CAACI,OAAO,CAAC,CAAC;EACvB;;EAEA;AACF;AACA;AACA;EACEC,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAACL,MAAM,CAACM,WAAW,CAAC,CAAC;EAClC;;EAEA;AACF;AACA;AACA;EACE,MAAMC,OAAOA,CAAA,EAAG;IACd,OAAO,IAAI,CAACP,MAAM,CAACQ,EAAE,CAAC,CAAC,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,cAAc,CAAC,CAAC;EAC9D;;EAEA;AACF;AACA;AACA;EACE,MAAMC,OAAOA,CAAA,EAAG;IACd,OAAO,IAAI,CAACX,MAAM,CAACQ,EAAE,CAAC,CAAC,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,cAAc,CAAC,CAAC;EAC9D;;EAEA;AACF;AACA;AACA;EACE,MAAME,eAAeA,CAAA,EAAG;IACtB,OAAO,IAAI,CAACZ,MAAM,CAACQ,EAAE,CAAC,CAAC,CAACC,UAAU,CAAC,OAAO,CAAC;EAC7C;;EAEA;AACF;AACA;AACA;EACE,MAAMI,eAAeA,CAAA,EAAG;IACtB,OAAO,IAAI,CAACb,MAAM,CAACQ,EAAE,CAAC,CAAC,CAACC,UAAU,CAAC,OAAO,CAAC;EAC7C;AACF;AAEO,MAAMK,QAAQ,GAAG,IAAI1B,QAAQ,CAAC,CAAC;AAAC2B,OAAA,CAAAD,QAAA,GAAAA,QAAA;AAAA,IAAAE,QAAA,GACxBF,QAAQ;AAAAC,OAAA,CAAA5B,OAAA,GAAA6B,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"066e62a300a0a694803835f4b1f872fed93c0a8e","contentHash":"77355f597739961253a427dcbca8586a7d935f5dfbc4907eb8f98dbc6cb7460b"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\AuthController.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\AuthController.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":27}},"3":{"start":{"line":8,"column":13},"end":{"line":8,"column":62}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":11}},"6":{"start":{"line":17,"column":18},"end":{"line":17,"column":33}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":81}},"8":{"start":{"line":19,"column":4},"end":{"line":21,"column":7}},"9":{"start":{"line":24,"column":18},"end":{"line":24,"column":40}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":46}},"11":{"start":{"line":26,"column":4},"end":{"line":26,"column":27}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":33}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":2},"end":{"line":13,"column":3}},"loc":{"start":{"line":13,"column":36},"end":{"line":22,"column":3}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":2},"end":{"line":23,"column":3}},"loc":{"start":{"line":23,"column":39},"end":{"line":27,"column":3}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_uuid","require","_redis","_interopRequireDefault","obj","__esModule","default","AuthController","getConnect","req","res","user","token","uuidv4","redisClient","set","_id","toString","status","json","getDisconnect","headers","del","send","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\","sources":["AuthController.js"],"sourcesContent":["/* eslint-disable import/no-named-as-default */\nimport { v4 as uuidv4 } from 'uuid';\nimport redisClient from '../utils/redis';\n\nexport default class AuthController {\n  static async getConnect(req, res) {\n    const { user } = req;\n    const token = uuidv4();\n\n    await redisClient.set(`auth_${token}`, user._id.toString(), 24 * 60 * 60);\n    res.status(200).json({ token });\n  }\n\n  static async getDisconnect(req, res) {\n    const token = req.headers['x-token'];\n\n    await redisClient.del(`auth_${token}`);\n    res.status(204).send();\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAC,sBAAA,CAAAF,OAAA;AAAyC,SAAAE,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFzC;;AAIe,MAAMG,cAAc,CAAC;EAClC,aAAaC,UAAUA,CAACC,GAAG,EAAEC,GAAG,EAAE;IAChC,MAAM;MAAEC;IAAK,CAAC,GAAGF,GAAG;IACpB,MAAMG,KAAK,GAAG,IAAAC,QAAM,EAAC,CAAC;IAEtB,MAAMC,cAAW,CAACC,GAAG,CAAE,QAAOH,KAAM,EAAC,EAAED,IAAI,CAACK,GAAG,CAACC,QAAQ,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;IACzEP,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEP;IAAM,CAAC,CAAC;EACjC;EAEA,aAAaQ,aAAaA,CAACX,GAAG,EAAEC,GAAG,EAAE;IACnC,MAAME,KAAK,GAAGH,GAAG,CAACY,OAAO,CAAC,SAAS,CAAC;IAEpC,MAAMP,cAAW,CAACQ,GAAG,CAAE,QAAOV,KAAM,EAAC,CAAC;IACtCF,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACK,IAAI,CAAC,CAAC;EACxB;AACF;AAACC,OAAA,CAAAlB,OAAA,GAAAC,cAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f4e7a35b77639a0680f034d7275222fabc91925c","contentHash":"f726b2c5219cf90ba5a5b2377471fe336fa2f9031bd142dd615ab516141c9ead"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\UsersController.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\UsersController.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":50}},"3":{"start":{"line":8,"column":13},"end":{"line":8,"column":62}},"4":{"start":{"line":9,"column":10},"end":{"line":9,"column":56}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"6":{"start":{"line":13,"column":18},"end":{"line":13,"column":53}},"7":{"start":{"line":16,"column":18},"end":{"line":16,"column":50}},"8":{"start":{"line":17,"column":21},"end":{"line":17,"column":56}},"9":{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},"10":{"start":{"line":19,"column":6},"end":{"line":21,"column":9}},"11":{"start":{"line":22,"column":6},"end":{"line":22,"column":13}},"12":{"start":{"line":24,"column":4},"end":{"line":29,"column":5}},"13":{"start":{"line":25,"column":6},"end":{"line":27,"column":9}},"14":{"start":{"line":28,"column":6},"end":{"line":28,"column":13}},"15":{"start":{"line":30,"column":17},"end":{"line":32,"column":6}},"16":{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},"17":{"start":{"line":34,"column":6},"end":{"line":36,"column":9}},"18":{"start":{"line":37,"column":6},"end":{"line":37,"column":13}},"19":{"start":{"line":39,"column":26},"end":{"line":42,"column":6}},"20":{"start":{"line":43,"column":19},"end":{"line":43,"column":54}},"21":{"start":{"line":44,"column":4},"end":{"line":46,"column":7}},"22":{"start":{"line":47,"column":4},"end":{"line":50,"column":7}},"23":{"start":{"line":55,"column":8},"end":{"line":55,"column":11}},"24":{"start":{"line":56,"column":4},"end":{"line":59,"column":7}},"25":{"start":{"line":62,"column":0},"end":{"line":62,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":2},"end":{"line":15,"column":3}},"loc":{"start":{"line":15,"column":33},"end":{"line":51,"column":3}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":52,"column":2},"end":{"line":52,"column":3}},"loc":{"start":{"line":52,"column":31},"end":{"line":60,"column":3}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":16,"column":18},"end":{"line":16,"column":50}},"type":"cond-expr","locations":[{"start":{"line":16,"column":29},"end":{"line":16,"column":43}},{"start":{"line":16,"column":46},"end":{"line":16,"column":50}}],"line":16},"3":{"loc":{"start":{"line":17,"column":21},"end":{"line":17,"column":56}},"type":"cond-expr","locations":[{"start":{"line":17,"column":32},"end":{"line":17,"column":49}},{"start":{"line":17,"column":52},"end":{"line":17,"column":56}}],"line":17},"4":{"loc":{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},{"start":{"line":18,"column":4},"end":{"line":23,"column":5}}],"line":18},"5":{"loc":{"start":{"line":24,"column":4},"end":{"line":29,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":29,"column":5}},{"start":{"line":24,"column":4},"end":{"line":29,"column":5}}],"line":24},"6":{"loc":{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},{"start":{"line":33,"column":4},"end":{"line":38,"column":5}}],"line":33}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1},"f":{"0":3,"1":0,"2":0},"b":{"0":[1,2],"1":[3,3],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"names":["_sha","_interopRequireDefault","require","_queue","_db","obj","__esModule","default","userQueue","Queue","UsersController","postNew","req","res","email","body","password","status","json","error","user","dbClient","usersCollection","findOne","insertionInfo","insertOne","sha1","userId","insertedId","toString","add","id","getMe","_id","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\","sources":["UsersController.js"],"sourcesContent":["/* eslint-disable import/no-named-as-default */\nimport sha1 from 'sha1';\nimport Queue from 'bull/lib/queue';\nimport dbClient from '../utils/db';\n\nconst userQueue = new Queue('email sending');\n\nexport default class UsersController {\n  static async postNew(req, res) {\n    const email = req.body ? req.body.email : null;\n    const password = req.body ? req.body.password : null;\n\n    if (!email) {\n      res.status(400).json({ error: 'Missing email' });\n      return;\n    }\n    if (!password) {\n      res.status(400).json({ error: 'Missing password' });\n      return;\n    }\n    const user = await (await dbClient.usersCollection()).findOne({ email });\n\n    if (user) {\n      res.status(400).json({ error: 'Already exist' });\n      return;\n    }\n    const insertionInfo = await (await dbClient.usersCollection())\n      .insertOne({ email, password: sha1(password) });\n    const userId = insertionInfo.insertedId.toString();\n\n    userQueue.add({ userId });\n    res.status(201).json({ email, id: userId });\n  }\n\n  static async getMe(req, res) {\n    const { user } = req;\n\n    res.status(200).json({ email: user.email, id: user._id.toString() });\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAHnC;;AAKA,MAAMG,SAAS,GAAG,IAAIC,cAAK,CAAC,eAAe,CAAC;AAE7B,MAAMC,eAAe,CAAC;EACnC,aAAaC,OAAOA,CAACC,GAAG,EAAEC,GAAG,EAAE;IAC7B,MAAMC,KAAK,GAAGF,GAAG,CAACG,IAAI,GAAGH,GAAG,CAACG,IAAI,CAACD,KAAK,GAAG,IAAI;IAC9C,MAAME,QAAQ,GAAGJ,GAAG,CAACG,IAAI,GAAGH,GAAG,CAACG,IAAI,CAACC,QAAQ,GAAG,IAAI;IAEpD,IAAI,CAACF,KAAK,EAAE;MACVD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAgB,CAAC,CAAC;MAChD;IACF;IACA,IAAI,CAACH,QAAQ,EAAE;MACbH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAmB,CAAC,CAAC;MACnD;IACF;IACA,MAAMC,IAAI,GAAG,MAAM,CAAC,MAAMC,WAAQ,CAACC,eAAe,CAAC,CAAC,EAAEC,OAAO,CAAC;MAAET;IAAM,CAAC,CAAC;IAExE,IAAIM,IAAI,EAAE;MACRP,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,KAAK,EAAE;MAAgB,CAAC,CAAC;MAChD;IACF;IACA,MAAMK,aAAa,GAAG,MAAM,CAAC,MAAMH,WAAQ,CAACC,eAAe,CAAC,CAAC,EAC1DG,SAAS,CAAC;MAAEX,KAAK;MAAEE,QAAQ,EAAE,IAAAU,YAAI,EAACV,QAAQ;IAAE,CAAC,CAAC;IACjD,MAAMW,MAAM,GAAGH,aAAa,CAACI,UAAU,CAACC,QAAQ,CAAC,CAAC;IAElDrB,SAAS,CAACsB,GAAG,CAAC;MAAEH;IAAO,CAAC,CAAC;IACzBd,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEJ,KAAK;MAAEiB,EAAE,EAAEJ;IAAO,CAAC,CAAC;EAC7C;EAEA,aAAaK,KAAKA,CAACpB,GAAG,EAAEC,GAAG,EAAE;IAC3B,MAAM;MAAEO;IAAK,CAAC,GAAGR,GAAG;IAEpBC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEJ,KAAK,EAAEM,IAAI,CAACN,KAAK;MAAEiB,EAAE,EAAEX,IAAI,CAACa,GAAG,CAACJ,QAAQ,CAAC;IAAE,CAAC,CAAC;EACtE;AACF;AAACK,OAAA,CAAA3B,OAAA,GAAAG,eAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0c2c99923f345d10e190d1e3d6a1ae28911301cd","contentHash":"9ebedc9fc4600a475c1262a56f50bfb3e41e27c87c2f88000b440df318e25f21"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\FilesController.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\FilesController.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":10},"end":{"line":7,"column":23}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"4":{"start":{"line":9,"column":13},"end":{"line":9,"column":62}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"6":{"start":{"line":11,"column":10},"end":{"line":11,"column":23}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":27}},"8":{"start":{"line":13,"column":15},"end":{"line":13,"column":33}},"9":{"start":{"line":14,"column":17},"end":{"line":14,"column":38}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":63}},"11":{"start":{"line":16,"column":10},"end":{"line":16,"column":56}},"12":{"start":{"line":17,"column":12},"end":{"line":17,"column":36}},"13":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"14":{"start":{"line":22,"column":25},"end":{"line":26,"column":1}},"15":{"start":{"line":27,"column":23},"end":{"line":27,"column":24}},"16":{"start":{"line":28,"column":28},"end":{"line":28,"column":43}},"17":{"start":{"line":29,"column":19},"end":{"line":29,"column":50}},"18":{"start":{"line":30,"column":23},"end":{"line":30,"column":58}},"19":{"start":{"line":31,"column":18},"end":{"line":31,"column":48}},"20":{"start":{"line":32,"column":22},"end":{"line":32,"column":56}},"21":{"start":{"line":33,"column":27},"end":{"line":33,"column":29}},"22":{"start":{"line":34,"column":18},"end":{"line":34,"column":60}},"23":{"start":{"line":35,"column":16},"end":{"line":35,"column":55}},"24":{"start":{"line":36,"column":18},"end":{"line":58,"column":1}},"25":{"start":{"line":37,"column":15},"end":{"line":37,"column":17}},"26":{"start":{"line":38,"column":10},"end":{"line":38,"column":11}},"27":{"start":{"line":39,"column":21},"end":{"line":44,"column":3}},"28":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"29":{"start":{"line":47,"column":4},"end":{"line":47,"column":17}},"30":{"start":{"line":49,"column":2},"end":{"line":56,"column":3}},"31":{"start":{"line":50,"column":14},"end":{"line":50,"column":19}},"32":{"start":{"line":51,"column":17},"end":{"line":51,"column":32}},"33":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"34":{"start":{"line":52,"column":34},"end":{"line":52,"column":70}},"35":{"start":{"line":53,"column":6},"end":{"line":53,"column":19}},"36":{"start":{"line":55,"column":4},"end":{"line":55,"column":11}},"37":{"start":{"line":57,"column":2},"end":{"line":57,"column":14}},"38":{"start":{"line":68,"column":8},"end":{"line":68,"column":11}},"39":{"start":{"line":69,"column":17},"end":{"line":69,"column":48}},"40":{"start":{"line":70,"column":17},"end":{"line":70,"column":48}},"41":{"start":{"line":71,"column":21},"end":{"line":71,"column":87}},"42":{"start":{"line":72,"column":21},"end":{"line":72,"column":78}},"43":{"start":{"line":73,"column":23},"end":{"line":73,"column":69}},"44":{"start":{"line":74,"column":4},"end":{"line":79,"column":5}},"45":{"start":{"line":75,"column":6},"end":{"line":77,"column":9}},"46":{"start":{"line":78,"column":6},"end":{"line":78,"column":13}},"47":{"start":{"line":80,"column":4},"end":{"line":85,"column":5}},"48":{"start":{"line":81,"column":6},"end":{"line":83,"column":9}},"49":{"start":{"line":84,"column":6},"end":{"line":84,"column":13}},"50":{"start":{"line":86,"column":4},"end":{"line":91,"column":5}},"51":{"start":{"line":87,"column":6},"end":{"line":89,"column":9}},"52":{"start":{"line":90,"column":6},"end":{"line":90,"column":13}},"53":{"start":{"line":92,"column":4},"end":{"line":108,"column":5}},"54":{"start":{"line":93,"column":19},"end":{"line":95,"column":8}},"55":{"start":{"line":96,"column":6},"end":{"line":101,"column":7}},"56":{"start":{"line":97,"column":8},"end":{"line":99,"column":11}},"57":{"start":{"line":100,"column":8},"end":{"line":100,"column":15}},"58":{"start":{"line":102,"column":6},"end":{"line":107,"column":7}},"59":{"start":{"line":103,"column":8},"end":{"line":105,"column":11}},"60":{"start":{"line":106,"column":8},"end":{"line":106,"column":15}},"61":{"start":{"line":109,"column":19},"end":{"line":109,"column":38}},"62":{"start":{"line":110,"column":20},"end":{"line":110,"column":163}},"63":{"start":{"line":113,"column":20},"end":{"line":119,"column":5}},"64":{"start":{"line":120,"column":4},"end":{"line":122,"column":7}},"65":{"start":{"line":123,"column":4},"end":{"line":127,"column":5}},"66":{"start":{"line":124,"column":24},"end":{"line":124,"column":65}},"67":{"start":{"line":125,"column":6},"end":{"line":125,"column":73}},"68":{"start":{"line":126,"column":6},"end":{"line":126,"column":36}},"69":{"start":{"line":128,"column":26},"end":{"line":128,"column":88}},"70":{"start":{"line":129,"column":19},"end":{"line":129,"column":54}},"71":{"start":{"line":131,"column":4},"end":{"line":138,"column":5}},"72":{"start":{"line":132,"column":22},"end":{"line":132,"column":61}},"73":{"start":{"line":133,"column":6},"end":{"line":137,"column":9}},"74":{"start":{"line":139,"column":4},"end":{"line":146,"column":7}},"75":{"start":{"line":151,"column":8},"end":{"line":151,"column":11}},"76":{"start":{"line":152,"column":15},"end":{"line":152,"column":51}},"77":{"start":{"line":153,"column":19},"end":{"line":153,"column":38}},"78":{"start":{"line":154,"column":17},"end":{"line":157,"column":6}},"79":{"start":{"line":158,"column":4},"end":{"line":163,"column":5}},"80":{"start":{"line":159,"column":6},"end":{"line":161,"column":9}},"81":{"start":{"line":162,"column":6},"end":{"line":162,"column":13}},"82":{"start":{"line":164,"column":4},"end":{"line":171,"column":7}},"83":{"start":{"line":182,"column":8},"end":{"line":182,"column":11}},"84":{"start":{"line":183,"column":21},"end":{"line":183,"column":68}},"85":{"start":{"line":184,"column":17},"end":{"line":184,"column":104}},"86":{"start":{"line":185,"column":24},"end":{"line":188,"column":5}},"87":{"start":{"line":189,"column":18},"end":{"line":217,"column":18}},"88":{"start":{"line":218,"column":4},"end":{"line":218,"column":32}},"89":{"start":{"line":223,"column":8},"end":{"line":223,"column":11}},"90":{"start":{"line":226,"column":8},"end":{"line":226,"column":18}},"91":{"start":{"line":227,"column":19},"end":{"line":227,"column":38}},"92":{"start":{"line":228,"column":23},"end":{"line":231,"column":5}},"93":{"start":{"line":232,"column":17},"end":{"line":232,"column":80}},"94":{"start":{"line":233,"column":4},"end":{"line":238,"column":5}},"95":{"start":{"line":234,"column":6},"end":{"line":236,"column":9}},"96":{"start":{"line":237,"column":6},"end":{"line":237,"column":13}},"97":{"start":{"line":239,"column":4},"end":{"line":243,"column":7}},"98":{"start":{"line":244,"column":4},"end":{"line":251,"column":7}},"99":{"start":{"line":256,"column":8},"end":{"line":256,"column":11}},"100":{"start":{"line":259,"column":8},"end":{"line":259,"column":18}},"101":{"start":{"line":260,"column":19},"end":{"line":260,"column":38}},"102":{"start":{"line":261,"column":23},"end":{"line":264,"column":5}},"103":{"start":{"line":265,"column":17},"end":{"line":265,"column":80}},"104":{"start":{"line":266,"column":4},"end":{"line":271,"column":5}},"105":{"start":{"line":267,"column":6},"end":{"line":269,"column":9}},"106":{"start":{"line":270,"column":6},"end":{"line":270,"column":13}},"107":{"start":{"line":272,"column":4},"end":{"line":276,"column":7}},"108":{"start":{"line":277,"column":4},"end":{"line":284,"column":7}},"109":{"start":{"line":293,"column":17},"end":{"line":293,"column":56}},"110":{"start":{"line":296,"column":8},"end":{"line":296,"column":18}},"111":{"start":{"line":297,"column":17},"end":{"line":297,"column":39}},"112":{"start":{"line":298,"column":19},"end":{"line":298,"column":50}},"113":{"start":{"line":299,"column":23},"end":{"line":301,"column":5}},"114":{"start":{"line":302,"column":17},"end":{"line":302,"column":80}},"115":{"start":{"line":303,"column":4},"end":{"line":308,"column":5}},"116":{"start":{"line":304,"column":6},"end":{"line":306,"column":9}},"117":{"start":{"line":307,"column":6},"end":{"line":307,"column":13}},"118":{"start":{"line":309,"column":4},"end":{"line":314,"column":5}},"119":{"start":{"line":310,"column":6},"end":{"line":312,"column":9}},"120":{"start":{"line":313,"column":6},"end":{"line":313,"column":13}},"121":{"start":{"line":315,"column":19},"end":{"line":315,"column":33}},"122":{"start":{"line":316,"column":4},"end":{"line":318,"column":5}},"123":{"start":{"line":317,"column":6},"end":{"line":317,"column":45}},"124":{"start":{"line":319,"column":4},"end":{"line":332,"column":5}},"125":{"start":{"line":320,"column":23},"end":{"line":320,"column":48}},"126":{"start":{"line":321,"column":6},"end":{"line":326,"column":7}},"127":{"start":{"line":322,"column":8},"end":{"line":324,"column":11}},"128":{"start":{"line":325,"column":8},"end":{"line":325,"column":15}},"129":{"start":{"line":328,"column":6},"end":{"line":330,"column":9}},"130":{"start":{"line":331,"column":6},"end":{"line":331,"column":13}},"131":{"start":{"line":333,"column":29},"end":{"line":333,"column":58}},"132":{"start":{"line":334,"column":4},"end":{"line":334,"column":105}},"133":{"start":{"line":335,"column":4},"end":{"line":335,"column":47}},"134":{"start":{"line":338,"column":0},"end":{"line":338,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":36,"column":18},"end":{"line":36,"column":19}},"loc":{"start":{"line":36,"column":24},"end":{"line":58,"column":1}},"line":36},"2":{"name":"(anonymous_2)","decl":{"start":{"line":52,"column":25},"end":{"line":52,"column":26}},"loc":{"start":{"line":52,"column":34},"end":{"line":52,"column":70}},"line":52},"3":{"name":"(anonymous_3)","decl":{"start":{"line":65,"column":2},"end":{"line":65,"column":3}},"loc":{"start":{"line":65,"column":36},"end":{"line":147,"column":3}},"line":65},"4":{"name":"(anonymous_4)","decl":{"start":{"line":148,"column":2},"end":{"line":148,"column":3}},"loc":{"start":{"line":148,"column":33},"end":{"line":172,"column":3}},"line":148},"5":{"name":"(anonymous_5)","decl":{"start":{"line":179,"column":2},"end":{"line":179,"column":3}},"loc":{"start":{"line":179,"column":34},"end":{"line":219,"column":3}},"line":179},"6":{"name":"(anonymous_6)","decl":{"start":{"line":220,"column":2},"end":{"line":220,"column":3}},"loc":{"start":{"line":220,"column":36},"end":{"line":252,"column":3}},"line":220},"7":{"name":"(anonymous_7)","decl":{"start":{"line":253,"column":2},"end":{"line":253,"column":3}},"loc":{"start":{"line":253,"column":38},"end":{"line":285,"column":3}},"line":253},"8":{"name":"(anonymous_8)","decl":{"start":{"line":292,"column":2},"end":{"line":292,"column":3}},"loc":{"start":{"line":292,"column":33},"end":{"line":336,"column":3}},"line":292}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},{"start":{"line":46,"column":2},"end":{"line":48,"column":3}}],"line":46},"3":{"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":50}},"type":"binary-expr","locations":[{"start":{"line":46,"column":6},"end":{"line":46,"column":28}},{"start":{"line":46,"column":32},"end":{"line":46,"column":50}}],"line":46},"4":{"loc":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},{"start":{"line":52,"column":4},"end":{"line":54,"column":5}}],"line":52},"5":{"loc":{"start":{"line":52,"column":34},"end":{"line":52,"column":70}},"type":"binary-expr","locations":[{"start":{"line":52,"column":34},"end":{"line":52,"column":50}},{"start":{"line":52,"column":54},"end":{"line":52,"column":70}}],"line":52},"6":{"loc":{"start":{"line":69,"column":17},"end":{"line":69,"column":48}},"type":"cond-expr","locations":[{"start":{"line":69,"column":28},"end":{"line":69,"column":41}},{"start":{"line":69,"column":44},"end":{"line":69,"column":48}}],"line":69},"7":{"loc":{"start":{"line":70,"column":17},"end":{"line":70,"column":48}},"type":"cond-expr","locations":[{"start":{"line":70,"column":28},"end":{"line":70,"column":41}},{"start":{"line":70,"column":44},"end":{"line":70,"column":48}}],"line":70},"8":{"loc":{"start":{"line":71,"column":21},"end":{"line":71,"column":87}},"type":"cond-expr","locations":[{"start":{"line":71,"column":53},"end":{"line":71,"column":70}},{"start":{"line":71,"column":73},"end":{"line":71,"column":87}}],"line":71},"9":{"loc":{"start":{"line":71,"column":21},"end":{"line":71,"column":50}},"type":"binary-expr","locations":[{"start":{"line":71,"column":21},"end":{"line":71,"column":29}},{"start":{"line":71,"column":33},"end":{"line":71,"column":50}}],"line":71},"10":{"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":78}},"type":"cond-expr","locations":[{"start":{"line":72,"column":53},"end":{"line":72,"column":70}},{"start":{"line":72,"column":73},"end":{"line":72,"column":78}}],"line":72},"11":{"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":50}},"type":"binary-expr","locations":[{"start":{"line":72,"column":21},"end":{"line":72,"column":29}},{"start":{"line":72,"column":33},"end":{"line":72,"column":50}}],"line":72},"12":{"loc":{"start":{"line":73,"column":23},"end":{"line":73,"column":69}},"type":"cond-expr","locations":[{"start":{"line":73,"column":51},"end":{"line":73,"column":64}},{"start":{"line":73,"column":67},"end":{"line":73,"column":69}}],"line":73},"13":{"loc":{"start":{"line":73,"column":23},"end":{"line":73,"column":48}},"type":"binary-expr","locations":[{"start":{"line":73,"column":23},"end":{"line":73,"column":31}},{"start":{"line":73,"column":35},"end":{"line":73,"column":48}}],"line":73},"14":{"loc":{"start":{"line":74,"column":4},"end":{"line":79,"column":5}},"type":"if","locations":[{"start":{"line":74,"column":4},"end":{"line":79,"column":5}},{"start":{"line":74,"column":4},"end":{"line":79,"column":5}}],"line":74},"15":{"loc":{"start":{"line":80,"column":4},"end":{"line":85,"column":5}},"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":85,"column":5}},{"start":{"line":80,"column":4},"end":{"line":85,"column":5}}],"line":80},"16":{"loc":{"start":{"line":80,"column":8},"end":{"line":80,"column":64}},"type":"binary-expr","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":13}},{"start":{"line":80,"column":17},"end":{"line":80,"column":64}}],"line":80},"17":{"loc":{"start":{"line":86,"column":4},"end":{"line":91,"column":5}},"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":91,"column":5}},{"start":{"line":86,"column":4},"end":{"line":91,"column":5}}],"line":86},"18":{"loc":{"start":{"line":86,"column":8},"end":{"line":86,"column":58}},"type":"binary-expr","locations":[{"start":{"line":86,"column":8},"end":{"line":86,"column":22}},{"start":{"line":86,"column":26},"end":{"line":86,"column":58}}],"line":86},"19":{"loc":{"start":{"line":92,"column":4},"end":{"line":108,"column":5}},"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":108,"column":5}},{"start":{"line":92,"column":4},"end":{"line":108,"column":5}}],"line":92},"20":{"loc":{"start":{"line":92,"column":8},"end":{"line":92,"column":77}},"type":"binary-expr","locations":[{"start":{"line":92,"column":8},"end":{"line":92,"column":35}},{"start":{"line":92,"column":39},"end":{"line":92,"column":77}}],"line":92},"21":{"loc":{"start":{"line":94,"column":45},"end":{"line":94,"column":85}},"type":"cond-expr","locations":[{"start":{"line":94,"column":67},"end":{"line":94,"column":75}},{"start":{"line":94,"column":78},"end":{"line":94,"column":85}}],"line":94},"22":{"loc":{"start":{"line":96,"column":6},"end":{"line":101,"column":7}},"type":"if","locations":[{"start":{"line":96,"column":6},"end":{"line":101,"column":7}},{"start":{"line":96,"column":6},"end":{"line":101,"column":7}}],"line":96},"23":{"loc":{"start":{"line":102,"column":6},"end":{"line":107,"column":7}},"type":"if","locations":[{"start":{"line":102,"column":6},"end":{"line":107,"column":7}},{"start":{"line":102,"column":6},"end":{"line":107,"column":7}}],"line":102},"24":{"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":163}},"type":"cond-expr","locations":[{"start":{"line":110,"column":75},"end":{"line":110,"column":105}},{"start":{"line":110,"column":108},"end":{"line":110,"column":163}}],"line":110},"25":{"loc":{"start":{"line":110,"column":23},"end":{"line":110,"column":52}},"type":"binary-expr","locations":[{"start":{"line":110,"column":23},"end":{"line":110,"column":46}},{"start":{"line":110,"column":50},"end":{"line":110,"column":52}}],"line":110},"26":{"loc":{"start":{"line":118,"column":16},"end":{"line":118,"column":135}},"type":"cond-expr","locations":[{"start":{"line":118,"column":88},"end":{"line":118,"column":91}},{"start":{"line":118,"column":94},"end":{"line":118,"column":135}}],"line":118},"27":{"loc":{"start":{"line":118,"column":16},"end":{"line":118,"column":85}},"type":"binary-expr","locations":[{"start":{"line":118,"column":16},"end":{"line":118,"column":43}},{"start":{"line":118,"column":47},"end":{"line":118,"column":85}}],"line":118},"28":{"loc":{"start":{"line":123,"column":4},"end":{"line":127,"column":5}},"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":127,"column":5}},{"start":{"line":123,"column":4},"end":{"line":127,"column":5}}],"line":123},"29":{"loc":{"start":{"line":131,"column":4},"end":{"line":138,"column":5}},"type":"if","locations":[{"start":{"line":131,"column":4},"end":{"line":138,"column":5}},{"start":{"line":131,"column":4},"end":{"line":138,"column":5}}],"line":131},"30":{"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":100}},"type":"cond-expr","locations":[{"start":{"line":145,"column":88},"end":{"line":145,"column":89}},{"start":{"line":145,"column":92},"end":{"line":145,"column":100}}],"line":145},"31":{"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":85}},"type":"binary-expr","locations":[{"start":{"line":145,"column":16},"end":{"line":145,"column":43}},{"start":{"line":145,"column":47},"end":{"line":145,"column":85}}],"line":145},"32":{"loc":{"start":{"line":152,"column":15},"end":{"line":152,"column":51}},"type":"cond-expr","locations":[{"start":{"line":152,"column":28},"end":{"line":152,"column":41}},{"start":{"line":152,"column":44},"end":{"line":152,"column":51}}],"line":152},"33":{"loc":{"start":{"line":155,"column":43},"end":{"line":155,"column":71}},"type":"cond-expr","locations":[{"start":{"line":155,"column":59},"end":{"line":155,"column":61}},{"start":{"line":155,"column":64},"end":{"line":155,"column":71}}],"line":155},"34":{"loc":{"start":{"line":156,"column":46},"end":{"line":156,"column":82}},"type":"cond-expr","locations":[{"start":{"line":156,"column":66},"end":{"line":156,"column":72}},{"start":{"line":156,"column":75},"end":{"line":156,"column":82}}],"line":156},"35":{"loc":{"start":{"line":158,"column":4},"end":{"line":163,"column":5}},"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":163,"column":5}},{"start":{"line":158,"column":4},"end":{"line":163,"column":5}}],"line":158},"36":{"loc":{"start":{"line":170,"column":16},"end":{"line":170,"column":90}},"type":"cond-expr","locations":[{"start":{"line":170,"column":62},"end":{"line":170,"column":63}},{"start":{"line":170,"column":66},"end":{"line":170,"column":90}}],"line":170},"37":{"loc":{"start":{"line":183,"column":21},"end":{"line":183,"column":68}},"type":"binary-expr","locations":[{"start":{"line":183,"column":21},"end":{"line":183,"column":39}},{"start":{"line":183,"column":43},"end":{"line":183,"column":68}}],"line":183},"38":{"loc":{"start":{"line":184,"column":17},"end":{"line":184,"column":104}},"type":"cond-expr","locations":[{"start":{"line":184,"column":65},"end":{"line":184,"column":100}},{"start":{"line":184,"column":103},"end":{"line":184,"column":104}}],"line":184},"39":{"loc":{"start":{"line":184,"column":29},"end":{"line":184,"column":49}},"type":"binary-expr","locations":[{"start":{"line":184,"column":29},"end":{"line":184,"column":43}},{"start":{"line":184,"column":47},"end":{"line":184,"column":49}}],"line":184},"40":{"loc":{"start":{"line":187,"column":16},"end":{"line":187,"column":141}},"type":"cond-expr","locations":[{"start":{"line":187,"column":57},"end":{"line":187,"column":65}},{"start":{"line":187,"column":68},"end":{"line":187,"column":141}}],"line":187},"41":{"loc":{"start":{"line":187,"column":100},"end":{"line":187,"column":140}},"type":"cond-expr","locations":[{"start":{"line":187,"column":122},"end":{"line":187,"column":130}},{"start":{"line":187,"column":133},"end":{"line":187,"column":140}}],"line":187},"42":{"loc":{"start":{"line":229,"column":43},"end":{"line":229,"column":71}},"type":"cond-expr","locations":[{"start":{"line":229,"column":59},"end":{"line":229,"column":61}},{"start":{"line":229,"column":64},"end":{"line":229,"column":71}}],"line":229},"43":{"loc":{"start":{"line":230,"column":46},"end":{"line":230,"column":82}},"type":"cond-expr","locations":[{"start":{"line":230,"column":66},"end":{"line":230,"column":72}},{"start":{"line":230,"column":75},"end":{"line":230,"column":82}}],"line":230},"44":{"loc":{"start":{"line":233,"column":4},"end":{"line":238,"column":5}},"type":"if","locations":[{"start":{"line":233,"column":4},"end":{"line":238,"column":5}},{"start":{"line":233,"column":4},"end":{"line":238,"column":5}}],"line":233},"45":{"loc":{"start":{"line":250,"column":16},"end":{"line":250,"column":90}},"type":"cond-expr","locations":[{"start":{"line":250,"column":62},"end":{"line":250,"column":63}},{"start":{"line":250,"column":66},"end":{"line":250,"column":90}}],"line":250},"46":{"loc":{"start":{"line":262,"column":43},"end":{"line":262,"column":71}},"type":"cond-expr","locations":[{"start":{"line":262,"column":59},"end":{"line":262,"column":61}},{"start":{"line":262,"column":64},"end":{"line":262,"column":71}}],"line":262},"47":{"loc":{"start":{"line":263,"column":46},"end":{"line":263,"column":82}},"type":"cond-expr","locations":[{"start":{"line":263,"column":66},"end":{"line":263,"column":72}},{"start":{"line":263,"column":75},"end":{"line":263,"column":82}}],"line":263},"48":{"loc":{"start":{"line":266,"column":4},"end":{"line":271,"column":5}},"type":"if","locations":[{"start":{"line":266,"column":4},"end":{"line":271,"column":5}},{"start":{"line":266,"column":4},"end":{"line":271,"column":5}}],"line":266},"49":{"loc":{"start":{"line":283,"column":16},"end":{"line":283,"column":90}},"type":"cond-expr","locations":[{"start":{"line":283,"column":62},"end":{"line":283,"column":63}},{"start":{"line":283,"column":66},"end":{"line":283,"column":90}}],"line":283},"50":{"loc":{"start":{"line":297,"column":17},"end":{"line":297,"column":39}},"type":"binary-expr","locations":[{"start":{"line":297,"column":17},"end":{"line":297,"column":31}},{"start":{"line":297,"column":35},"end":{"line":297,"column":39}}],"line":297},"51":{"loc":{"start":{"line":298,"column":19},"end":{"line":298,"column":50}},"type":"cond-expr","locations":[{"start":{"line":298,"column":26},"end":{"line":298,"column":45}},{"start":{"line":298,"column":48},"end":{"line":298,"column":50}}],"line":298},"52":{"loc":{"start":{"line":300,"column":43},"end":{"line":300,"column":71}},"type":"cond-expr","locations":[{"start":{"line":300,"column":59},"end":{"line":300,"column":61}},{"start":{"line":300,"column":64},"end":{"line":300,"column":71}}],"line":300},"53":{"loc":{"start":{"line":303,"column":4},"end":{"line":308,"column":5}},"type":"if","locations":[{"start":{"line":303,"column":4},"end":{"line":308,"column":5}},{"start":{"line":303,"column":4},"end":{"line":308,"column":5}}],"line":303},"54":{"loc":{"start":{"line":303,"column":8},"end":{"line":303,"column":68}},"type":"binary-expr","locations":[{"start":{"line":303,"column":8},"end":{"line":303,"column":13}},{"start":{"line":303,"column":17},"end":{"line":303,"column":31}},{"start":{"line":303,"column":35},"end":{"line":303,"column":68}}],"line":303},"55":{"loc":{"start":{"line":309,"column":4},"end":{"line":314,"column":5}},"type":"if","locations":[{"start":{"line":309,"column":4},"end":{"line":314,"column":5}},{"start":{"line":309,"column":4},"end":{"line":314,"column":5}}],"line":309},"56":{"loc":{"start":{"line":316,"column":4},"end":{"line":318,"column":5}},"type":"if","locations":[{"start":{"line":316,"column":4},"end":{"line":318,"column":5}},{"start":{"line":316,"column":4},"end":{"line":318,"column":5}}],"line":316},"57":{"loc":{"start":{"line":319,"column":4},"end":{"line":332,"column":5}},"type":"if","locations":[{"start":{"line":319,"column":4},"end":{"line":332,"column":5}},{"start":{"line":319,"column":4},"end":{"line":332,"column":5}}],"line":319},"58":{"loc":{"start":{"line":321,"column":6},"end":{"line":326,"column":7}},"type":"if","locations":[{"start":{"line":321,"column":6},"end":{"line":326,"column":7}},{"start":{"line":321,"column":6},"end":{"line":326,"column":7}}],"line":321},"59":{"loc":{"start":{"line":334,"column":34},"end":{"line":334,"column":103}},"type":"binary-expr","locations":[{"start":{"line":334,"column":34},"end":{"line":334,"column":72}},{"start":{"line":334,"column":76},"end":{"line":334,"column":103}}],"line":334}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1},"f":{"0":3,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[1,2],"1":[3,3],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0]},"inputSourceMap":{"version":3,"names":["_os","require","_util","_queue","_interopRequireDefault","_uuid","_fs","_path","_express","_mimeTypes","_core","_db","_auth","obj","__esModule","default","VALID_FILE_TYPES","folder","file","image","ROOT_FOLDER_ID","DEFAULT_ROOT_FOLDER","mkDirAsync","promisify","mkdir","writeFileAsync","writeFile","statAsync","stat","realpathAsync","realpath","MAX_FILES_PER_PAGE","fileQueue","Queue","NULL_ID","Buffer","alloc","toString","isValidId","id","size","i","charRanges","length","c","code","charCodeAt","some","range","FilesController","postUpload","req","res","user","name","body","type","parentId","isPublic","base64Data","data","status","json","error","Object","values","includes","dbClient","filesCollection","findOne","_id","mongoDBCore","BSON","ObjectId","userId","baseDir","process","env","FOLDER_PATH","trim","joinPath","tmpdir","newFile","recursive","localPath","uuidv4","from","insertionInfo","insertOne","fileId","insertedId","jobName","add","getShow","params","getIndex","query","page","test","Number","parseInt","filesFilter","files","aggregate","$match","$sort","$skip","$limit","$project","$cond","if","$eq","then","else","toArray","putPublish","fileFilter","updateOne","$set","putUnpublish","getFile","getUserFromXToken","filePath","existsSync","fileInfo","isFile","absoluteFilePath","setHeader","contentType","sendFile","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\controllers\\","sources":["FilesController.js"],"sourcesContent":["/* eslint-disable import/no-named-as-default */\n/* eslint-disable no-unused-vars */\nimport { tmpdir } from 'os';\nimport { promisify } from 'util';\nimport Queue from 'bull/lib/queue';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  mkdir, writeFile, stat, existsSync, realpath,\n} from 'fs';\nimport { join as joinPath } from 'path';\nimport { Request, Response } from 'express';\nimport { contentType } from 'mime-types';\nimport mongoDBCore from 'mongodb/lib/core';\nimport dbClient from '../utils/db';\nimport { getUserFromXToken } from '../utils/auth';\n\nconst VALID_FILE_TYPES = {   \n  folder: 'folder',\n  file: 'file',\n  image: 'image',\n};\nconst ROOT_FOLDER_ID = 0;\nconst DEFAULT_ROOT_FOLDER = 'files_manager';\nconst mkDirAsync = promisify(mkdir);\nconst writeFileAsync = promisify(writeFile);\nconst statAsync = promisify(stat);\nconst realpathAsync = promisify(realpath);\nconst MAX_FILES_PER_PAGE = 20;\nconst fileQueue = new Queue('thumbnail generation');\nconst NULL_ID = Buffer.alloc(24, '0').toString('utf-8');\nconst isValidId = (id) => {\n  const size = 24;\n  let i = 0;\n  const charRanges = [\n    [48, 57], // 0 - 9\n    [97, 102], // a - f\n    [65, 70], // A - F\n  ];\n  if (typeof id !== 'string' || id.length !== size) {\n    return false;\n  }\n  while (i < size) {\n    const c = id[i];\n    const code = c.charCodeAt(0);\n\n    if (!charRanges.some((range) => code >= range[0] && code <= range[1])) {\n      return false;\n    }\n    i += 1;\n  }\n  return true;\n};\n\nexport default class FilesController {\n  /**\n   * Uploads a file.\n   * @param {Request} req The Express request object.\n   * @param {Response} res The Express response object.\n   */\n  static async postUpload(req, res) {\n    const { user } = req;\n    const name = req.body ? req.body.name : null;\n    const type = req.body ? req.body.type : null;\n    const parentId = req.body && req.body.parentId ? req.body.parentId : ROOT_FOLDER_ID;\n    const isPublic = req.body && req.body.isPublic ? req.body.isPublic : false;\n    const base64Data = req.body && req.body.data ? req.body.data : '';\n\n    if (!name) {\n      res.status(400).json({ error: 'Missing name' });\n      return;\n    }\n    if (!type || !Object.values(VALID_FILE_TYPES).includes(type)) {\n      res.status(400).json({ error: 'Missing type' });\n      return;\n    }\n    if (!req.body.data && type !== VALID_FILE_TYPES.folder) {\n      res.status(400).json({ error: 'Missing data' });\n      return;\n    }\n    if ((parentId !== ROOT_FOLDER_ID) && (parentId !== ROOT_FOLDER_ID.toString())) {\n      const file = await (await dbClient.filesCollection())\n        .findOne({\n          _id: new mongoDBCore.BSON.ObjectId(isValidId(parentId) ? parentId : NULL_ID),\n        });\n\n      if (!file) {\n        res.status(400).json({ error: 'Parent not found' });\n        return;\n      }\n      if (file.type !== VALID_FILE_TYPES.folder) {\n        res.status(400).json({ error: 'Parent is not a folder' });\n        return;\n      }\n    }\n    const userId = user._id.toString();\n    const baseDir = `${process.env.FOLDER_PATH || ''}`.trim().length > 0\n      ? process.env.FOLDER_PATH.trim()\n      : joinPath(tmpdir(), DEFAULT_ROOT_FOLDER);\n    // default baseDir == '/tmp/files_manager'\n    // or (on Windows) '%USERPROFILE%/AppData/Local/Temp/files_manager';\n    const newFile = {\n      userId: new mongoDBCore.BSON.ObjectId(userId),\n      name,\n      type,\n      isPublic,\n      parentId: (parentId === ROOT_FOLDER_ID) || (parentId === ROOT_FOLDER_ID.toString())\n        ? '0'\n        : new mongoDBCore.BSON.ObjectId(parentId),\n    };\n    await mkDirAsync(baseDir, { recursive: true });\n    if (type !== VALID_FILE_TYPES.folder) {\n      const localPath = joinPath(baseDir, uuidv4());\n      await writeFileAsync(localPath, Buffer.from(base64Data, 'base64'));\n      newFile.localPath = localPath;\n    }\n    const insertionInfo = await (await dbClient.filesCollection())\n      .insertOne(newFile);\n    const fileId = insertionInfo.insertedId.toString();\n    // start thumbnail generation worker\n    if (type === VALID_FILE_TYPES.image) {\n      const jobName = `Image thumbnail [${userId}-${fileId}]`;\n      fileQueue.add({ userId, fileId, name: jobName });\n    }\n    res.status(201).json({\n      id: fileId,\n      userId,\n      name,\n      type,\n      isPublic,\n      parentId: (parentId === ROOT_FOLDER_ID) || (parentId === ROOT_FOLDER_ID.toString())\n        ? 0\n        : parentId,\n    });\n  }\n\n  static async getShow(req, res) {\n    const { user } = req;\n    const id = req.params ? req.params.id : NULL_ID;\n    const userId = user._id.toString();\n    const file = await (await dbClient.filesCollection())\n      .findOne({\n        _id: new mongoDBCore.BSON.ObjectId(isValidId(id) ? id : NULL_ID),\n        userId: new mongoDBCore.BSON.ObjectId(isValidId(userId) ? userId : NULL_ID),\n      });\n\n    if (!file) {\n      res.status(404).json({ error: 'Not found' });\n      return;\n    }\n    res.status(200).json({\n      id,\n      userId,\n      name: file.name,\n      type: file.type,\n      isPublic: file.isPublic,\n      parentId: file.parentId === ROOT_FOLDER_ID.toString()\n        ? 0\n        : file.parentId.toString(),\n    });\n  }\n\n  /**\n   * Retrieves files associated with a specific user.\n   * @param {Request} req The Express request object.\n   * @param {Response} res The Express response object.\n   */\n  static async getIndex(req, res) {\n    const { user } = req;\n    const parentId = req.query.parentId || ROOT_FOLDER_ID.toString();\n    const page = /\\d+/.test((req.query.page || '').toString())\n      ? Number.parseInt(req.query.page, 10)\n      : 0;\n    const filesFilter = {\n      userId: user._id,\n      parentId: parentId === ROOT_FOLDER_ID.toString()\n        ? parentId\n        : new mongoDBCore.BSON.ObjectId(isValidId(parentId) ? parentId : NULL_ID),\n    };\n\n    const files = await (await (await dbClient.filesCollection())\n      .aggregate([\n        { $match: filesFilter },\n        { $sort: { _id: -1 } },\n        { $skip: page * MAX_FILES_PER_PAGE },\n        { $limit: MAX_FILES_PER_PAGE },\n        {\n          $project: {\n            _id: 0,\n            id: '$_id',\n            userId: '$userId',\n            name: '$name',\n            type: '$type',\n            isPublic: '$isPublic',\n            parentId: {\n              $cond: { if: { $eq: ['$parentId', '0'] }, then: 0, else: '$parentId' },\n            },\n          },\n        },\n      ])).toArray();\n    res.status(200).json(files);\n  }\n\n  static async putPublish(req, res) {\n    const { user } = req;\n    const { id } = req.params;\n    const userId = user._id.toString();\n    const fileFilter = {\n      _id: new mongoDBCore.BSON.ObjectId(isValidId(id) ? id : NULL_ID),\n      userId: new mongoDBCore.BSON.ObjectId(isValidId(userId) ? userId : NULL_ID),\n    };\n    const file = await (await dbClient.filesCollection())\n      .findOne(fileFilter);\n\n    if (!file) {\n      res.status(404).json({ error: 'Not found' });\n      return;\n    }\n    await (await dbClient.filesCollection())\n      .updateOne(fileFilter, { $set: { isPublic: true } });\n    res.status(200).json({\n      id,\n      userId,\n      name: file.name,\n      type: file.type,\n      isPublic: true,\n      parentId: file.parentId === ROOT_FOLDER_ID.toString()\n        ? 0\n        : file.parentId.toString(),\n    });\n  }\n\n  static async putUnpublish(req, res) {\n    const { user } = req;\n    const { id } = req.params;\n    const userId = user._id.toString();\n    const fileFilter = {\n      _id: new mongoDBCore.BSON.ObjectId(isValidId(id) ? id : NULL_ID),\n      userId: new mongoDBCore.BSON.ObjectId(isValidId(userId) ? userId : NULL_ID),\n    };\n    const file = await (await dbClient.filesCollection())\n      .findOne(fileFilter);\n\n    if (!file) {\n      res.status(404).json({ error: 'Not found' });\n      return;\n    }\n    await (await dbClient.filesCollection())\n      .updateOne(fileFilter, { $set: { isPublic: false } });\n    res.status(200).json({\n      id,\n      userId,\n      name: file.name,\n      type: file.type,\n      isPublic: false,\n      parentId: file.parentId === ROOT_FOLDER_ID.toString()\n        ? 0\n        : file.parentId.toString(),\n    });\n  }\n\n  /**\n   * Retrieves the content of a file.\n   * @param {Request} req The Express request object.\n   * @param {Response} res The Express response object.\n   */\n  static async getFile(req, res) {\n    const user = await getUserFromXToken(req);\n    const { id } = req.params;\n    const size = req.query.size || null;\n    const userId = user ? user._id.toString() : '';\n    const fileFilter = {\n      _id: new mongoDBCore.BSON.ObjectId(isValidId(id) ? id : NULL_ID),\n    };\n    const file = await (await dbClient.filesCollection())\n      .findOne(fileFilter);\n\n    if (!file || (!file.isPublic && (file.userId.toString() !== userId))) {\n      res.status(404).json({ error: 'Not found' });\n      return;\n    }\n    if (file.type === VALID_FILE_TYPES.folder) {\n      res.status(400).json({ error: 'A folder doesn\\'t have content' });\n      return;\n    }\n    let filePath = file.localPath;\n    if (size) {\n      filePath = `${file.localPath}_${size}`;\n    }\n    if (existsSync(filePath)) {\n      const fileInfo = await statAsync(filePath);\n      if (!fileInfo.isFile()) {\n        res.status(404).json({ error: 'Not found' });\n        return;\n      }\n    } else {\n      res.status(404).json({ error: 'Not found' });\n      return;\n    }\n    const absoluteFilePath = await realpathAsync(filePath);\n    res.setHeader('Content-Type', contentType(file.name) || 'text/plain; charset=utf-8');\n    res.status(200).sendFile(absoluteFilePath);\n  }\n}\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e74d77c1a60ab57d9e5401e3319d051d3417d5e8","contentHash":"55202293c15994a337063fab7bdc66d0abcca50ed599b525aba86c7c95d7c32a"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\auth.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":88}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":50}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"4":{"start":{"line":9,"column":12},"end":{"line":9,"column":63}},"5":{"start":{"line":10,"column":10},"end":{"line":10,"column":49}},"6":{"start":{"line":11,"column":13},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"8":{"start":{"line":21,"column":33},"end":{"line":41,"column":1}},"9":{"start":{"line":22,"column":24},"end":{"line":22,"column":57}},"10":{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},"11":{"start":{"line":24,"column":4},"end":{"line":24,"column":16}},"12":{"start":{"line":26,"column":29},"end":{"line":26,"column":53}},"13":{"start":{"line":27,"column":2},"end":{"line":29,"column":3}},"14":{"start":{"line":28,"column":4},"end":{"line":28,"column":16}},"15":{"start":{"line":30,"column":16},"end":{"line":30,"column":71}},"16":{"start":{"line":31,"column":17},"end":{"line":31,"column":35}},"17":{"start":{"line":32,"column":16},"end":{"line":32,"column":42}},"18":{"start":{"line":33,"column":19},"end":{"line":33,"column":46}},"19":{"start":{"line":34,"column":15},"end":{"line":36,"column":4}},"20":{"start":{"line":37,"column":2},"end":{"line":39,"column":3}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":16}},"22":{"start":{"line":40,"column":2},"end":{"line":40,"column":14}},"23":{"start":{"line":48,"column":0},"end":{"line":48,"column":60}},"24":{"start":{"line":49,"column":26},"end":{"line":62,"column":1}},"25":{"start":{"line":50,"column":16},"end":{"line":50,"column":38}},"26":{"start":{"line":51,"column":2},"end":{"line":53,"column":3}},"27":{"start":{"line":52,"column":4},"end":{"line":52,"column":16}},"28":{"start":{"line":54,"column":17},"end":{"line":54,"column":58}},"29":{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},"30":{"start":{"line":56,"column":4},"end":{"line":56,"column":16}},"31":{"start":{"line":58,"column":15},"end":{"line":60,"column":4}},"32":{"start":{"line":61,"column":2},"end":{"line":61,"column":22}},"33":{"start":{"line":63,"column":0},"end":{"line":63,"column":46}},"34":{"start":{"line":64,"column":15},"end":{"line":67,"column":1}},"35":{"start":{"line":65,"column":41},"end":{"line":65,"column":70}},"36":{"start":{"line":66,"column":34},"end":{"line":66,"column":56}},"37":{"start":{"line":68,"column":0},"end":{"line":68,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":33},"end":{"line":21,"column":34}},"loc":{"start":{"line":21,"column":46},"end":{"line":41,"column":1}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":49,"column":26},"end":{"line":49,"column":27}},"loc":{"start":{"line":49,"column":39},"end":{"line":62,"column":1}},"line":49},"3":{"name":"(anonymous_3)","decl":{"start":{"line":65,"column":28},"end":{"line":65,"column":29}},"loc":{"start":{"line":65,"column":41},"end":{"line":65,"column":70}},"line":65},"4":{"name":"(anonymous_4)","decl":{"start":{"line":66,"column":21},"end":{"line":66,"column":22}},"loc":{"start":{"line":66,"column":34},"end":{"line":66,"column":56}},"line":66}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":57}},"type":"binary-expr","locations":[{"start":{"line":22,"column":24},"end":{"line":22,"column":49}},{"start":{"line":22,"column":53},"end":{"line":22,"column":57}}],"line":22},"3":{"loc":{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},{"start":{"line":23,"column":2},"end":{"line":25,"column":3}}],"line":23},"4":{"loc":{"start":{"line":27,"column":2},"end":{"line":29,"column":3}},"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":29,"column":3}},{"start":{"line":27,"column":2},"end":{"line":29,"column":3}}],"line":27},"5":{"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":74}},"type":"binary-expr","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":37}},{"start":{"line":27,"column":41},"end":{"line":27,"column":74}}],"line":27},"6":{"loc":{"start":{"line":37,"column":2},"end":{"line":39,"column":3}},"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":39,"column":3}},{"start":{"line":37,"column":2},"end":{"line":39,"column":3}}],"line":37},"7":{"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":60}},"type":"binary-expr","locations":[{"start":{"line":37,"column":6},"end":{"line":37,"column":11}},{"start":{"line":37,"column":15},"end":{"line":37,"column":60}}],"line":37},"8":{"loc":{"start":{"line":51,"column":2},"end":{"line":53,"column":3}},"type":"if","locations":[{"start":{"line":51,"column":2},"end":{"line":53,"column":3}},{"start":{"line":51,"column":2},"end":{"line":53,"column":3}}],"line":51},"9":{"loc":{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},"type":"if","locations":[{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},{"start":{"line":55,"column":2},"end":{"line":57,"column":3}}],"line":55},"10":{"loc":{"start":{"line":61,"column":9},"end":{"line":61,"column":21}},"type":"binary-expr","locations":[{"start":{"line":61,"column":9},"end":{"line":61,"column":13}},{"start":{"line":61,"column":17},"end":{"line":61,"column":21}}],"line":61}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":1,"35":0,"36":0,"37":1},"f":{"0":4,"1":0,"2":0,"3":0,"4":0},"b":{"0":[2,2],"1":[4,4],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"names":["_sha","_interopRequireDefault","require","_express","_core","_db","_redis","obj","__esModule","default","getUserFromAuthorization","req","authorization","headers","authorizationParts","split","length","token","Buffer","from","toString","sepPos","indexOf","email","substring","password","user","dbClient","usersCollection","findOne","sha1","exports","getUserFromXToken","userId","redisClient","get","_id","mongoDBCore","BSON","ObjectId","_default"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\utils\\","sources":["auth.js"],"sourcesContent":["/* eslint-disable import/no-named-as-default */\n/* eslint-disable no-unused-vars */\nimport sha1 from 'sha1';\nimport { Request } from 'express';\nimport mongoDBCore from 'mongodb/lib/core';\nimport dbClient from './db';\nimport redisClient from './redis';\n\n/**\n * Fetches the user from the Authorization header in the given request object.\n * @param {Request} req The Express request object.\n * @returns {Promise<{_id: ObjectId, email: string, password: string}>}\n */\nexport const getUserFromAuthorization = async (req) => {\n  const authorization = req.headers.authorization || null;\n\n  if (!authorization) {\n    return null;\n  }\n  const authorizationParts = authorization.split(' ');\n\n  if (authorizationParts.length !== 2 || authorizationParts[0] !== 'Basic') {\n    return null;\n  }\n  const token = Buffer.from(authorizationParts[1], 'base64').toString();\n  const sepPos = token.indexOf(':');\n  const email = token.substring(0, sepPos);\n  const password = token.substring(sepPos + 1);\n  const user = await (await dbClient.usersCollection()).findOne({ email });\n\n  if (!user || sha1(password) !== user.password) {\n    return null;\n  }\n  return user;\n};\n\n/**\n * Fetches the user from the X-Token header in the given request object.\n * @param {Request} req The Express request object.\n * @returns {Promise<{_id: ObjectId, email: string, password: string}>}\n */\nexport const getUserFromXToken = async (req) => {\n  const token = req.headers['x-token'];\n\n  if (!token) {\n    return null;\n  }\n  const userId = await redisClient.get(`auth_${token}`);\n  if (!userId) {\n    return null;\n  }\n  const user = await (await dbClient.usersCollection())\n    .findOne({ _id: new mongoDBCore.BSON.ObjectId(userId) });\n  return user || null;\n};\n\nexport default {\n  getUserFromAuthorization: async (req) => getUserFromAuthorization(req),\n  getUserFromXToken: async (req) => getUserFromXToken(req),\n};\n"],"mappings":";;;;;;AAEA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,GAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AANlC;AACA;;AAOA;AACA;AACA;AACA;AACA;AACO,MAAMG,wBAAwB,GAAG,MAAOC,GAAG,IAAK;EACrD,MAAMC,aAAa,GAAGD,GAAG,CAACE,OAAO,CAACD,aAAa,IAAI,IAAI;EAEvD,IAAI,CAACA,aAAa,EAAE;IAClB,OAAO,IAAI;EACb;EACA,MAAME,kBAAkB,GAAGF,aAAa,CAACG,KAAK,CAAC,GAAG,CAAC;EAEnD,IAAID,kBAAkB,CAACE,MAAM,KAAK,CAAC,IAAIF,kBAAkB,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;IACxE,OAAO,IAAI;EACb;EACA,MAAMG,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACL,kBAAkB,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAACM,QAAQ,CAAC,CAAC;EACrE,MAAMC,MAAM,GAAGJ,KAAK,CAACK,OAAO,CAAC,GAAG,CAAC;EACjC,MAAMC,KAAK,GAAGN,KAAK,CAACO,SAAS,CAAC,CAAC,EAAEH,MAAM,CAAC;EACxC,MAAMI,QAAQ,GAAGR,KAAK,CAACO,SAAS,CAACH,MAAM,GAAG,CAAC,CAAC;EAC5C,MAAMK,IAAI,GAAG,MAAM,CAAC,MAAMC,WAAQ,CAACC,eAAe,CAAC,CAAC,EAAEC,OAAO,CAAC;IAAEN;EAAM,CAAC,CAAC;EAExE,IAAI,CAACG,IAAI,IAAI,IAAAI,YAAI,EAACL,QAAQ,CAAC,KAAKC,IAAI,CAACD,QAAQ,EAAE;IAC7C,OAAO,IAAI;EACb;EACA,OAAOC,IAAI;AACb,CAAC;;AAED;AACA;AACA;AACA;AACA;AAJAK,OAAA,CAAArB,wBAAA,GAAAA,wBAAA;AAKO,MAAMsB,iBAAiB,GAAG,MAAOrB,GAAG,IAAK;EAC9C,MAAMM,KAAK,GAAGN,GAAG,CAACE,OAAO,CAAC,SAAS,CAAC;EAEpC,IAAI,CAACI,KAAK,EAAE;IACV,OAAO,IAAI;EACb;EACA,MAAMgB,MAAM,GAAG,MAAMC,cAAW,CAACC,GAAG,CAAE,QAAOlB,KAAM,EAAC,CAAC;EACrD,IAAI,CAACgB,MAAM,EAAE;IACX,OAAO,IAAI;EACb;EACA,MAAMP,IAAI,GAAG,MAAM,CAAC,MAAMC,WAAQ,CAACC,eAAe,CAAC,CAAC,EACjDC,OAAO,CAAC;IAAEO,GAAG,EAAE,IAAIC,aAAW,CAACC,IAAI,CAACC,QAAQ,CAACN,MAAM;EAAE,CAAC,CAAC;EAC1D,OAAOP,IAAI,IAAI,IAAI;AACrB,CAAC;AAACK,OAAA,CAAAC,iBAAA,GAAAA,iBAAA;AAAA,IAAAQ,QAAA,GAEa;EACb9B,wBAAwB,EAAE,MAAOC,GAAG,IAAKD,wBAAwB,CAACC,GAAG,CAAC;EACtEqB,iBAAiB,EAAE,MAAOrB,GAAG,IAAKqB,iBAAiB,CAACrB,GAAG;AACzD,CAAC;AAAAoB,OAAA,CAAAtB,OAAA,GAAA+B,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fb96beeafe8bb84b72e877ea60b6a141997cf7a8","contentHash":"d0bd2ee698052897a2afa819ce5b871d2eca1bcff8ec1cbfb33f9079dee34aae"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\middlewares\\auth.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\middlewares\\auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":64}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":36}},"4":{"start":{"line":17,"column":26},"end":{"line":27,"column":1}},"5":{"start":{"line":18,"column":15},"end":{"line":18,"column":61}},"6":{"start":{"line":19,"column":2},"end":{"line":24,"column":3}},"7":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"8":{"start":{"line":23,"column":4},"end":{"line":23,"column":11}},"9":{"start":{"line":25,"column":2},"end":{"line":25,"column":18}},"10":{"start":{"line":26,"column":2},"end":{"line":26,"column":9}},"11":{"start":{"line":35,"column":0},"end":{"line":35,"column":46}},"12":{"start":{"line":36,"column":27},"end":{"line":46,"column":1}},"13":{"start":{"line":37,"column":15},"end":{"line":37,"column":54}},"14":{"start":{"line":38,"column":2},"end":{"line":43,"column":3}},"15":{"start":{"line":39,"column":4},"end":{"line":41,"column":7}},"16":{"start":{"line":42,"column":4},"end":{"line":42,"column":11}},"17":{"start":{"line":44,"column":2},"end":{"line":44,"column":18}},"18":{"start":{"line":45,"column":2},"end":{"line":45,"column":9}},"19":{"start":{"line":47,"column":0},"end":{"line":47,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":26},"end":{"line":17,"column":27}},"loc":{"start":{"line":17,"column":52},"end":{"line":27,"column":1}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":36,"column":27},"end":{"line":36,"column":28}},"loc":{"start":{"line":36,"column":53},"end":{"line":46,"column":1}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":2},"end":{"line":24,"column":3}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":24,"column":3}},{"start":{"line":19,"column":2},"end":{"line":24,"column":3}}],"line":19},"1":{"loc":{"start":{"line":38,"column":2},"end":{"line":43,"column":3}},"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":43,"column":3}},{"start":{"line":38,"column":2},"end":{"line":43,"column":3}}],"line":38}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"names":["_express","require","_auth","basicAuthenticate","req","res","next","user","getUserFromAuthorization","status","json","error","exports","xTokenAuthenticate","getUserFromXToken"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\middlewares\\","sources":["auth.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport { Request, Response, NextFunction } from 'express';\nimport { getUserFromXToken, getUserFromAuthorization } from '../utils/auth';\n\n/**\n * Applies Basic authentication to a route.\n * @param {Request} req The Express request object.\n * @param {Response} res The Express response object.\n * @param {NextFunction} next The Express next function.\n */\nexport const basicAuthenticate = async (req, res, next) => {\n  const user = await getUserFromAuthorization(req);\n\n  if (!user) {\n    res.status(401).json({ error: 'Unauthorized' });\n    return;\n  }\n  req.user = user;\n  next();\n};\n\n/**\n * Applies X-Token authentication to a route.\n * @param {Request} req The Express request object.\n * @param {Response} res The Express response object.\n * @param {NextFunction} next The Express next function.\n */\nexport const xTokenAuthenticate = async (req, res, next) => {\n  const user = await getUserFromXToken(req);\n\n  if (!user) {\n    res.status(401).json({ error: 'Unauthorized' });\n    return;\n  }\n  req.user = user;\n  next();\n};\n"],"mappings":";;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACO,MAAME,iBAAiB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACzD,MAAMC,IAAI,GAAG,MAAM,IAAAC,8BAAwB,EAACJ,GAAG,CAAC;EAEhD,IAAI,CAACG,IAAI,EAAE;IACTF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAe,CAAC,CAAC;IAC/C;EACF;EACAP,GAAG,CAACG,IAAI,GAAGA,IAAI;EACfD,IAAI,CAAC,CAAC;AACR,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AALAM,OAAA,CAAAT,iBAAA,GAAAA,iBAAA;AAMO,MAAMU,kBAAkB,GAAG,MAAAA,CAAOT,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1D,MAAMC,IAAI,GAAG,MAAM,IAAAO,uBAAiB,EAACV,GAAG,CAAC;EAEzC,IAAI,CAACG,IAAI,EAAE;IACTF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAe,CAAC,CAAC;IAC/C;EACF;EACAP,GAAG,CAACG,IAAI,GAAGA,IAAI;EACfD,IAAI,CAAC,CAAC;AACR,CAAC;AAACM,OAAA,CAAAC,kBAAA,GAAAA,kBAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2b0cb83c40773e0e0580ba4df9b7bc83b96b527d","contentHash":"4a93a9740fc0e013301971a9cdd6698f41c541e0486257cc02a0e68eb18852e7"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\middlewares\\error.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\middlewares\\error.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"3":{"start":{"line":15,"column":4},"end":{"line":15,"column":12}},"4":{"start":{"line":16,"column":4},"end":{"line":16,"column":28}},"5":{"start":{"line":17,"column":4},"end":{"line":17,"column":27}},"6":{"start":{"line":28,"column":0},"end":{"line":28,"column":28}},"7":{"start":{"line":29,"column":22},"end":{"line":40,"column":1}},"8":{"start":{"line":30,"column":21},"end":{"line":30,"column":51}},"9":{"start":{"line":31,"column":2},"end":{"line":36,"column":3}},"10":{"start":{"line":32,"column":4},"end":{"line":34,"column":7}},"11":{"start":{"line":35,"column":4},"end":{"line":35,"column":11}},"12":{"start":{"line":37,"column":2},"end":{"line":39,"column":5}},"13":{"start":{"line":41,"column":0},"end":{"line":41,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":2},"end":{"line":14,"column":3}},"loc":{"start":{"line":14,"column":29},"end":{"line":18,"column":3}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":29,"column":22},"end":{"line":29,"column":23}},"loc":{"start":{"line":29,"column":47},"end":{"line":40,"column":1}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":27}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":20}},{"start":{"line":16,"column":24},"end":{"line":16,"column":27}}],"line":16},"1":{"loc":{"start":{"line":31,"column":2},"end":{"line":36,"column":3}},"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":36,"column":3}},{"start":{"line":31,"column":2},"end":{"line":36,"column":3}}],"line":31},"2":{"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":38}},"type":"binary-expr","locations":[{"start":{"line":33,"column":13},"end":{"line":33,"column":24}},{"start":{"line":33,"column":28},"end":{"line":33,"column":38}}],"line":33},"3":{"loc":{"start":{"line":38,"column":11},"end":{"line":38,"column":59}},"type":"cond-expr","locations":[{"start":{"line":38,"column":17},"end":{"line":38,"column":46}},{"start":{"line":38,"column":49},"end":{"line":38,"column":59}}],"line":38},"4":{"loc":{"start":{"line":38,"column":17},"end":{"line":38,"column":46}},"type":"binary-expr","locations":[{"start":{"line":38,"column":17},"end":{"line":38,"column":28}},{"start":{"line":38,"column":32},"end":{"line":38,"column":46}}],"line":38}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"names":["_express","require","APIError","Error","constructor","code","message","exports","errorResponse","err","req","res","next","defaultMsg","url","status","json","error","toString"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\middlewares\\","sources":["error.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport { Request, Response, NextFunction } from 'express';\n\n/**\n * Represents an error in this API.\n */\nexport class APIError extends Error {\n  constructor(code, message) {\n    super();\n    this.code = code || 500;\n    this.message = message;\n  }\n}\n\n/**\n * Applies Basic authentication to a route.\n * @param {Error} err The error object.\n * @param {Request} req The Express request object.\n * @param {Response} res The Express response object.\n * @param {NextFunction} next The Express next function.\n */\nexport const errorResponse = (err, req, res, next) => {\n  const defaultMsg = `Failed to process ${req.url}`;\n\n  if (err instanceof APIError) {\n    res.status(err.code).json({ error: err.message || defaultMsg });\n    return;\n  }\n  res.status(500).json({\n    error: err ? err.message || err.toString() : defaultMsg,\n  });\n};\n"],"mappings":";;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AADA;;AAGA;AACA;AACA;AACO,MAAMC,QAAQ,SAASC,KAAK,CAAC;EAClCC,WAAWA,CAACC,IAAI,EAAEC,OAAO,EAAE;IACzB,KAAK,CAAC,CAAC;IACP,IAAI,CAACD,IAAI,GAAGA,IAAI,IAAI,GAAG;IACvB,IAAI,CAACC,OAAO,GAAGA,OAAO;EACxB;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANAC,OAAA,CAAAL,QAAA,GAAAA,QAAA;AAOO,MAAMM,aAAa,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACpD,MAAMC,UAAU,GAAI,qBAAoBH,GAAG,CAACI,GAAI,EAAC;EAEjD,IAAIL,GAAG,YAAYP,QAAQ,EAAE;IAC3BS,GAAG,CAACI,MAAM,CAACN,GAAG,CAACJ,IAAI,CAAC,CAACW,IAAI,CAAC;MAAEC,KAAK,EAAER,GAAG,CAACH,OAAO,IAAIO;IAAW,CAAC,CAAC;IAC/D;EACF;EACAF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACnBC,KAAK,EAAER,GAAG,GAAGA,GAAG,CAACH,OAAO,IAAIG,GAAG,CAACS,QAAQ,CAAC,CAAC,GAAGL;EAC/C,CAAC,CAAC;AACJ,CAAC;AAACN,OAAA,CAAAC,aAAA,GAAAA,aAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"90ddec77ee65108a3a898a77c3be9f662a85cc5b","contentHash":"6e32f12c1abe62531cecc3559c221438215e9f730b6c76c0919a8d2c55c23f00"},"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\libs\\middlewares.js":{"path":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\libs\\middlewares.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":57}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":13,"column":26},"end":{"line":17,"column":1}},"5":{"start":{"line":14,"column":2},"end":{"line":16,"column":6}},"6":{"start":{"line":18,"column":15},"end":{"line":18,"column":32}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":26},"end":{"line":13,"column":27}},"loc":{"start":{"line":13,"column":33},"end":{"line":17,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","injectMiddlewares","api","use","express","json","limit","_default","exports"],"sourceRoot":"C:\\Users\\Hp\\Desktop\\alx-nodejs\\alx-files_manager_project\\alx-files_manager\\libs\\","sources":["middlewares.js"],"sourcesContent":["import express from 'express';\n\n/**\n * Adds middlewares to the given express application.\n * @param {express.Express} api The express application.\n */\nconst injectMiddlewares = (api) => {\n  api.use(express.json({ limit: '200mb' }));\n};\n\nexport default injectMiddlewares;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B;AACA;AACA;AACA;AACA,MAAMG,iBAAiB,GAAIC,GAAG,IAAK;EACjCA,GAAG,CAACC,GAAG,CAACC,gBAAO,CAACC,IAAI,CAAC;IAAEC,KAAK,EAAE;EAAQ,CAAC,CAAC,CAAC;AAC3C,CAAC;AAAC,IAAAC,QAAA,GAEaN,iBAAiB;AAAAO,OAAA,CAAAR,OAAA,GAAAO,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dc46c1bec15e4ccba1f049e70dca7d32fdaeda40","contentHash":"40b33ab8407972d3989e364c4459da1968d850b0d7e9dfc45e86fe97cf4fa7e9"}}